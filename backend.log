INFO:     Will watch for changes in these directories: ['/Users/sun/Desktop/DEV/valar-web/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [88991] using WatchFiles
INFO:     Started server process [88999]
INFO:     Waiting for application startup.
2025-09-21 22:04:49,634 - app.main - INFO - Starting application...
2025-09-21 22:04:49,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:04:49,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:04:49,634 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2025-09-21 22:04:49,634 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-09-21 22:04:49,634 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-09-21 22:04:49,634 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-21 22:04:49,634 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("account_permissions")
2025-09-21 22:04:49,634 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("account_permissions")
2025-09-21 22:04:49,634 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-09-21 22:04:49,634 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-21 22:04:49,634 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("account_config")
2025-09-21 22:04:49,634 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("account_config")
2025-09-21 22:04:49,634 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-09-21 22:04:49,634 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-21 22:04:49,634 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("audit_log")
2025-09-21 22:04:49,634 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("audit_log")
2025-09-21 22:04:49,634 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-09-21 22:04:49,634 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-21 22:04:49,635 INFO sqlalchemy.engine.Engine COMMIT
2025-09-21 22:04:49,635 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-21 22:04:49,635 - app.main - INFO - Database tables created/verified
2025-09-21 22:04:49,638 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:04:49,638 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:04:49,639 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-09-21 22:04:49,639 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-09-21 22:04:49,639 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('admin', 1, 0)
2025-09-21 22:04:49,639 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('admin', 1, 0)
2025-09-21 22:04:49,639 - app.main - INFO - Admin user already exists
2025-09-21 22:04:49,639 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:04:49,639 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     Application startup complete.
INFO:     127.0.0.1:64924 - "GET / HTTP/1.1" 200 OK
2025-09-21 22:04:50,899 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:04:50,899 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:04:50,900 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:04:50,900 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:04:50,900 INFO sqlalchemy.engine.Engine [generated in 0.00008s] (1, 1, 0)
2025-09-21 22:04:50,900 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] (1, 1, 0)
2025-09-21 22:04:50,900 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:04:50,900 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:04:50,900 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ()
2025-09-21 22:04:50,900 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ()
2025-09-21 22:04:50,901 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:04:50,901 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:04:50,901 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:04:50,901 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:04:50,901 INFO sqlalchemy.engine.Engine [cached since 0.001709s ago] (1, 1, 0)
2025-09-21 22:04:50,901 - sqlalchemy.engine.Engine - INFO - [cached since 0.001709s ago] (1, 1, 0)
2025-09-21 22:04:50,901 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:04:50,901 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:04:50,902 INFO sqlalchemy.engine.Engine [cached since 0.001526s ago] ()
2025-09-21 22:04:50,902 - sqlalchemy.engine.Engine - INFO - [cached since 0.001526s ago] ()
2025-09-21 22:04:50,905 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d00602d8bb441a2cf58229"}}
2025-09-21 22:04:50,905 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00602d8bb441a2cf58229"}, "previousDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58229, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58229, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:04:50,905 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d00602d8bb441a2cf58229"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:50,905 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:50,906 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d00602d8bb441a2cf58228"}}
2025-09-21 22:04:50,906 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00602d8bb441a2cf58228"}, "previousDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58228, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58228, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:04:50,906 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58229, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}}
2025-09-21 22:04:50,906 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d00602d8bb441a2cf58228"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:50,906 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58229, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "remainingTimeMS": 4999}
2025-09-21 22:04:50,906 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:50,906 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58228, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}}
2025-09-21 22:04:50,906 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58228, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "remainingTimeMS": 4999}
2025-09-21 22:04:50,910 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00602d8bb441a2cf58229"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:04:50,910 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00602d8bb441a2cf58228"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:04:50,975 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d00602d8bb441a2cf58228"}, "driverConnectionId": 1, "serverConnectionId": 2364504, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 64.80620801448822, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:04:51.117Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364504, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:04:50,975 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d00602d8bb441a2cf58229"}, "driverConnectionId": 1, "serverConnectionId": 2364505, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 65.19791716709733, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:04:51.119Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364505, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:04:50,975 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:50,976 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:50,976 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00602d8bb441a2cf58228"}, "previousDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58228, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58228, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06480620801448822>]>"}
2025-09-21 22:04:50,976 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00602d8bb441a2cf58229"}, "previousDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58229, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58229, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06519791716709733>]>"}
2025-09-21 22:04:50,976 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58228, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06480620801448822>]>", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:50,976 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00602d8bb441a2cf58228"}, "driverConnectionId": 1, "serverConnectionId": 2364504, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:04:50,976 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58229, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06519791716709733>]>", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:50,976 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00602d8bb441a2cf58229"}, "driverConnectionId": 1, "serverConnectionId": 2364505, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:04:50,976 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:50,976 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:50,977 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:04:50,977 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:04:51,076 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09674637531861663}
2025-09-21 22:04:51,076 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09966741688549519}
2025-09-21 22:04:51,077 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JMvQsP6iQ3Cc6kSGQPnw4w==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 823564440, "operationId": 823564440, "driverConnectionId": 1, "serverConnectionId": 2364509, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,078 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09863966703414917}
2025-09-21 22:04:51,078 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10145620815455914}
2025-09-21 22:04:51,078 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"c+yn4tw2RU+NgRfNgvTqEw==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1115438165, "operationId": 1115438165, "driverConnectionId": 1, "serverConnectionId": 2364507, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,147 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "durationMS": 70.303, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 823564440, "operationId": 823564440, "driverConnectionId": 1, "serverConnectionId": 2364509, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,149 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:04:51,149 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58229, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06519791716709733>]>", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}}
2025-09-21 22:04:51,150 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "durationMS": 72.482, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 1115438165, "operationId": 1115438165, "driverConnectionId": 1, "serverConnectionId": 2364507, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,151 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:04:51,151 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58229, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06519791716709733>]>", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,152 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58228, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06480620801448822>]>", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}}
2025-09-21 22:04:51,152 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,152 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d00602d8bb441a2cf58228, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06480620801448822>]>", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,153 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0003498340956866741}
2025-09-21 22:04:51,153 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,153 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "command": "{\"getMore\": 6031489318429287117, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JMvQsP6iQ3Cc6kSGQPnw4w==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1784484492, "operationId": 1784484492, "driverConnectionId": 1, "serverConnectionId": 2364509, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,153 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.00039295805618166924}
2025-09-21 22:04:51,154 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "command": "{\"getMore\": 4639479073419455804, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"c+yn4tw2RU+NgRfNgvTqEw==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 74243042, "operationId": 74243042, "driverConnectionId": 1, "serverConnectionId": 2364507, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,186 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "durationMS": 32.869, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1784484492, "operationId": 1784484492, "driverConnectionId": 1, "serverConnectionId": 2364509, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,186 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00602d8bb441a2cf58229"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:04:51,196 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "durationMS": 41.984, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 74243042, "operationId": 74243042, "driverConnectionId": 1, "serverConnectionId": 2364507, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,197 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00602d8bb441a2cf58228"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:64944 - "GET /api/v1/positions/summary HTTP/1.1" 200 OK
2025-09-21 22:04:51,232 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:04:51,232 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:64945 - "GET /api/v1/positions/summary HTTP/1.1" 200 OK
2025-09-21 22:04:51,236 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:04:51,236 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:04:51,274 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:04:51,274 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:04:51,274 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:04:51,274 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:04:51,274 INFO sqlalchemy.engine.Engine [cached since 0.3744s ago] (1, 1, 0)
2025-09-21 22:04:51,274 - sqlalchemy.engine.Engine - INFO - [cached since 0.3744s ago] (1, 1, 0)
2025-09-21 22:04:51,274 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:04:51,274 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:04:51,274 INFO sqlalchemy.engine.Engine [cached since 0.3744s ago] ()
2025-09-21 22:04:51,274 - sqlalchemy.engine.Engine - INFO - [cached since 0.3744s ago] ()
2025-09-21 22:04:51,275 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d00603d8bb441a2cf5822a"}}
2025-09-21 22:04:51,275 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00603d8bb441a2cf5822a"}, "previousDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822a, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822a, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:04:51,275 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d00603d8bb441a2cf5822a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,275 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,275 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822a, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}}
2025-09-21 22:04:51,276 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822a, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "remainingTimeMS": 4999}
2025-09-21 22:04:51,277 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00603d8bb441a2cf5822a"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:04:51,299 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:04:51,299 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:04:51,299 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:04:51,299 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:04:51,299 INFO sqlalchemy.engine.Engine [cached since 0.3999s ago] (1, 1, 0)
2025-09-21 22:04:51,299 - sqlalchemy.engine.Engine - INFO - [cached since 0.3999s ago] (1, 1, 0)
2025-09-21 22:04:51,300 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:04:51,300 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:04:51,300 INFO sqlalchemy.engine.Engine [cached since 0.4002s ago] ()
2025-09-21 22:04:51,300 - sqlalchemy.engine.Engine - INFO - [cached since 0.4002s ago] ()
2025-09-21 22:04:51,301 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d00603d8bb441a2cf5822b"}}
2025-09-21 22:04:51,302 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00603d8bb441a2cf5822b"}, "previousDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822b, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822b, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:04:51,302 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d00603d8bb441a2cf5822b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,302 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,303 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822b, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}}
2025-09-21 22:04:51,303 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822b, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "remainingTimeMS": 4999}
2025-09-21 22:04:51,304 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00603d8bb441a2cf5822b"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:04:51,341 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d00603d8bb441a2cf5822a"}, "driverConnectionId": 1, "serverConnectionId": 2364510, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 64.41016681492329, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:04:51.485Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364510, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:04:51,342 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,342 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00603d8bb441a2cf5822a"}, "previousDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822a, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06441016681492329>]>"}
2025-09-21 22:04:51,342 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06441016681492329>]>", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,342 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,343 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:04:51,343 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00603d8bb441a2cf5822a"}, "driverConnectionId": 1, "serverConnectionId": 2364510, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:04:51,358 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d00603d8bb441a2cf5822b"}, "driverConnectionId": 1, "serverConnectionId": 2364511, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 53.29575017094612, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:04:51.505Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364511, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:04:51,359 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,359 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00603d8bb441a2cf5822b"}, "previousDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822b, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05329575017094612>]>"}
2025-09-21 22:04:51,359 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05329575017094612>]>", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,359 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,360 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:04:51,361 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00603d8bb441a2cf5822b"}, "driverConnectionId": 1, "serverConnectionId": 2364511, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:04:51,445 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10011562472209334}
2025-09-21 22:04:51,446 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10328541602939367}
2025-09-21 22:04:51,446 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"4WMNIIKtQxCHZD71OBHudA==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1817129560, "operationId": 1817129560, "driverConnectionId": 1, "serverConnectionId": 2364513, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,447 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.08290320774540305}
2025-09-21 22:04:51,447 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0875503751449287}
2025-09-21 22:04:51,448 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"1raJZ+WQRTyQ4ecGItKjIQ==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1131570933, "operationId": 1131570933, "driverConnectionId": 1, "serverConnectionId": 2364514, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,505 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "durationMS": 57.193, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 1131570933, "operationId": 1131570933, "driverConnectionId": 1, "serverConnectionId": 2364514, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,506 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:04:51,506 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05329575017094612>]>", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}}
2025-09-21 22:04:51,507 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05329575017094612>]>", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,507 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,507 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.00015375018119812012}
2025-09-21 22:04:51,508 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "command": "{\"getMore\": 7408493178332807399, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"1raJZ+WQRTyQ4ecGItKjIQ==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 197493099, "operationId": 197493099, "driverConnectionId": 1, "serverConnectionId": 2364514, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,514 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "durationMS": 68.37400000000001, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 1817129560, "operationId": 1817129560, "driverConnectionId": 1, "serverConnectionId": 2364513, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,515 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:04:51,515 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06441016681492329>]>", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}}
2025-09-21 22:04:51,516 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d00603d8bb441a2cf5822a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06441016681492329>]>", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,516 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,516 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 5.879206582903862e-05}
2025-09-21 22:04:51,516 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "command": "{\"getMore\": 4209589010589804692, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"4WMNIIKtQxCHZD71OBHudA==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1404280278, "operationId": 1404280278, "driverConnectionId": 1, "serverConnectionId": 2364513, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,535 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "durationMS": 27.758000000000003, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 197493099, "operationId": 197493099, "driverConnectionId": 1, "serverConnectionId": 2364514, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,536 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00603d8bb441a2cf5822b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:04:51,548 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "durationMS": 32.446999999999996, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1404280278, "operationId": 1404280278, "driverConnectionId": 1, "serverConnectionId": 2364513, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:04:51,549 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00603d8bb441a2cf5822a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:64967 - "GET /api/v1/positions?accounts=901203963&accounts=901208017&accounts=901208110&accounts=901210166 HTTP/1.1" 200 OK
2025-09-21 22:04:51,560 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:04:51,560 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:64964 - "GET /api/v1/positions?accounts=901203963&accounts=901208017&accounts=901208110&accounts=901210166 HTTP/1.1" 200 OK
2025-09-21 22:04:51,565 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:04:51,565 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:07:52,018 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:07:52,018 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:07:52,018 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:07:52,018 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:07:52,018 INFO sqlalchemy.engine.Engine [cached since 181.1s ago] (1, 1, 0)
2025-09-21 22:07:52,018 - sqlalchemy.engine.Engine - INFO - [cached since 181.1s ago] (1, 1, 0)
2025-09-21 22:07:52,018 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:07:52,018 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:07:52,018 INFO sqlalchemy.engine.Engine [cached since 181.1s ago] ()
2025-09-21 22:07:52,018 - sqlalchemy.engine.Engine - INFO - [cached since 181.1s ago] ()
2025-09-21 22:07:52,019 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:07:52,019 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:07:52,019 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:07:52,019 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:07:52,019 INFO sqlalchemy.engine.Engine [cached since 181.1s ago] (1, 1, 0)
2025-09-21 22:07:52,019 - sqlalchemy.engine.Engine - INFO - [cached since 181.1s ago] (1, 1, 0)
2025-09-21 22:07:52,019 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d006b8d8bb441a2cf5822c"}}
2025-09-21 22:07:52,019 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "previousDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822c, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822c, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:07:52,020 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:07:52,020 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,020 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:07:52,020 INFO sqlalchemy.engine.Engine [cached since 181.1s ago] ()
2025-09-21 22:07:52,020 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,020 - sqlalchemy.engine.Engine - INFO - [cached since 181.1s ago] ()
2025-09-21 22:07:52,021 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822c, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}}
2025-09-21 22:07:52,021 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822c, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "remainingTimeMS": 4999}
2025-09-21 22:07:52,021 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d006b8d8bb441a2cf5822d"}}
2025-09-21 22:07:52,021 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "previousDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822d, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822d, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:07:52,021 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,021 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,021 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822d, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}}
2025-09-21 22:07:52,021 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822d, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "remainingTimeMS": 4999}
2025-09-21 22:07:52,022 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:07:52,022 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:07:52,075 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "driverConnectionId": 1, "serverConnectionId": 2364517, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 52.80249984934926, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:07:52.221Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364517, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:07:52,075 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,075 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "previousDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822d, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822d, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05280249984934926>]>"}
2025-09-21 22:07:52,075 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822d, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05280249984934926>]>", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,075 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,075 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:07:52,075 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "driverConnectionId": 1, "serverConnectionId": 2364517, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:07:52,076 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "driverConnectionId": 1, "serverConnectionId": 2364516, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 54.68658311292529, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:07:52.221Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364516, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:07:52,077 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,077 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "previousDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822c, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822c, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05468658311292529>]>"}
2025-09-21 22:07:52,077 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "driverConnectionId": 1, "serverConnectionId": 2364516, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:07:52,077 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822c, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05468658311292529>]>", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,077 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,077 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:07:52,173 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09664079220965505}
2025-09-21 22:07:52,174 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09858262492343783}
2025-09-21 22:07:52,174 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"5PJOwIzCT/KL5iO8FMOepg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 2128236579, "operationId": 2128236579, "driverConnectionId": 1, "serverConnectionId": 2364519, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,174 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09359666705131531}
2025-09-21 22:07:52,174 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09711041580885649}
2025-09-21 22:07:52,174 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"cQDq/72YSoqCiJGLppJG8A==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 784558821, "operationId": 784558821, "driverConnectionId": 1, "serverConnectionId": 2364520, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,242 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "durationMS": 68.07199999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 784558821, "operationId": 784558821, "driverConnectionId": 1, "serverConnectionId": 2364520, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,243 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:07:52,243 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822c, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05468658311292529>]>", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}}
2025-09-21 22:07:52,243 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822c, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05468658311292529>]>", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,243 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,243 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "durationMS": 69.481, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 2128236579, "operationId": 2128236579, "driverConnectionId": 1, "serverConnectionId": 2364519, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,243 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.00033341581001877785}
2025-09-21 22:07:52,243 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:07:52,244 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "command": "{\"getMore\": 4479163449544537610, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"cQDq/72YSoqCiJGLppJG8A==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 530511967, "operationId": 530511967, "driverConnectionId": 1, "serverConnectionId": 2364520, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,244 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822d, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05280249984934926>]>", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}}
2025-09-21 22:07:52,244 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d006b8d8bb441a2cf5822d, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05280249984934926>]>", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,244 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,244 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 4.179077222943306e-05}
2025-09-21 22:07:52,244 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "command": "{\"getMore\": 7188190245324008594, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"5PJOwIzCT/KL5iO8FMOepg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 2110010672, "operationId": 2110010672, "driverConnectionId": 1, "serverConnectionId": 2364519, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,275 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "durationMS": 31.676000000000002, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 530511967, "operationId": 530511967, "driverConnectionId": 1, "serverConnectionId": 2364520, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,276 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d006b8d8bb441a2cf5822c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:07:52,277 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "durationMS": 32.870000000000005, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 2110010672, "operationId": 2110010672, "driverConnectionId": 1, "serverConnectionId": 2364519, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:07:52,278 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d006b8d8bb441a2cf5822d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:65513 - "GET /api/v1/positions/summary HTTP/1.1" 200 OK
2025-09-21 22:07:52,293 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:07:52,293 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:65514 - "GET /api/v1/positions?accounts=901203963&accounts=901208017&accounts=901208110&accounts=901210166 HTTP/1.1" 200 OK
2025-09-21 22:07:52,295 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:07:52,295 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:08:11,646 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:08:11,646 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:08:11,646 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:08:11,646 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:08:11,646 INFO sqlalchemy.engine.Engine [cached since 200.7s ago] (1, 1, 0)
2025-09-21 22:08:11,646 - sqlalchemy.engine.Engine - INFO - [cached since 200.7s ago] (1, 1, 0)
2025-09-21 22:08:11,646 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:08:11,646 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:08:11,646 INFO sqlalchemy.engine.Engine [cached since 200.7s ago] ()
2025-09-21 22:08:11,646 - sqlalchemy.engine.Engine - INFO - [cached since 200.7s ago] ()
2025-09-21 22:08:11,647 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d006cbd8bb441a2cf5822e"}}
2025-09-21 22:08:11,647 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:08:11,648 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "previousDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822e, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822e, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:08:11,647 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:08:11,648 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:08:11,648 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,648 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:08:11,648 INFO sqlalchemy.engine.Engine [cached since 200.7s ago] (1, 1, 0)
2025-09-21 22:08:11,648 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,648 - sqlalchemy.engine.Engine - INFO - [cached since 200.7s ago] (1, 1, 0)
2025-09-21 22:08:11,648 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822e, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}}
2025-09-21 22:08:11,648 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822e, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "remainingTimeMS": 4999}
2025-09-21 22:08:11,649 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:08:11,649 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:08:11,649 INFO sqlalchemy.engine.Engine [cached since 200.7s ago] ()
2025-09-21 22:08:11,649 - sqlalchemy.engine.Engine - INFO - [cached since 200.7s ago] ()
2025-09-21 22:08:11,649 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d006cbd8bb441a2cf5822f"}}
2025-09-21 22:08:11,649 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "previousDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822f, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822f, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:08:11,649 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,649 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,649 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:08:11,650 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822f, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}}
2025-09-21 22:08:11,650 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822f, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "remainingTimeMS": 4999}
2025-09-21 22:08:11,650 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:08:11,703 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "driverConnectionId": 1, "serverConnectionId": 2364523, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 52.938499953597784, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:08:11.849Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364523, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:08:11,703 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,703 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "previousDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822f, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822f, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.052938499953597784>]>"}
2025-09-21 22:08:11,703 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822f, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.052938499953597784>]>", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,704 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,704 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:08:11,704 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "driverConnectionId": 1, "serverConnectionId": 2364523, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:08:11,704 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "driverConnectionId": 1, "serverConnectionId": 2364522, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 54.63662510737777, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:08:11.849Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364522, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:08:11,704 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,704 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "previousDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822e, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822e, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05463662510737777>]>"}
2025-09-21 22:08:11,704 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822e, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05463662510737777>]>", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,704 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "driverConnectionId": 1, "serverConnectionId": 2364522, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:08:11,704 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,704 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:08:11,791 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.08438287489116192}
2025-09-21 22:08:11,791 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.08673791727051139}
2025-09-21 22:08:11,791 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"1VHgO+s0Tpy5j7DxKkmWhA==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 510616708, "operationId": 510616708, "driverConnectionId": 1, "serverConnectionId": 2364524, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,806 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09936245810240507}
2025-09-21 22:08:11,806 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10257712518796325}
2025-09-21 22:08:11,806 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Sd/NxyG7QTqDVZXuJVU/RQ==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 590357944, "operationId": 590357944, "driverConnectionId": 1, "serverConnectionId": 2364526, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,848 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "durationMS": 57.239, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 510616708, "operationId": 510616708, "driverConnectionId": 1, "serverConnectionId": 2364524, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,849 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:08:11,850 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822e, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05463662510737777>]>", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}}
2025-09-21 22:08:11,850 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822e, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05463662510737777>]>", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,850 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,850 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 6.39171339571476e-05}
2025-09-21 22:08:11,851 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "command": "{\"getMore\": 1021711801722395918, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"1VHgO+s0Tpy5j7DxKkmWhA==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 771515668, "operationId": 771515668, "driverConnectionId": 1, "serverConnectionId": 2364524, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,874 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "durationMS": 68.024, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 590357944, "operationId": 590357944, "driverConnectionId": 1, "serverConnectionId": 2364526, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,875 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:08:11,875 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822f, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.052938499953597784>]>", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}}
2025-09-21 22:08:11,875 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d006cbd8bb441a2cf5822f, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.052938499953597784>]>", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,875 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,876 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 7.295794785022736e-05}
2025-09-21 22:08:11,876 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "command": "{\"getMore\": 285333784656155968, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Sd/NxyG7QTqDVZXuJVU/RQ==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 357571490, "operationId": 357571490, "driverConnectionId": 1, "serverConnectionId": 2364526, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,878 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "durationMS": 27.005000000000003, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 771515668, "operationId": 771515668, "driverConnectionId": 1, "serverConnectionId": 2364524, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,878 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d006cbd8bb441a2cf5822e"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:49258 - "GET /api/v1/positions/summary HTTP/1.1" 200 OK
2025-09-21 22:08:11,893 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:08:11,893 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:08:11,909 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "durationMS": 33.089, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 357571490, "operationId": 357571490, "driverConnectionId": 1, "serverConnectionId": 2364526, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:08:11,909 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d006cbd8bb441a2cf5822f"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:49259 - "GET /api/v1/positions?accounts=901203963&accounts=901208017&accounts=901208110&accounts=901210166 HTTP/1.1" 200 OK
2025-09-21 22:08:11,919 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:08:11,919 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:09:01,611 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:09:01,611 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:09:01,612 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:09:01,612 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:09:01,612 INFO sqlalchemy.engine.Engine [cached since 250.7s ago] (1, 1, 0)
2025-09-21 22:09:01,612 - sqlalchemy.engine.Engine - INFO - [cached since 250.7s ago] (1, 1, 0)
2025-09-21 22:09:01,612 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:09:01,612 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:09:01,612 INFO sqlalchemy.engine.Engine [cached since 250.7s ago] ()
2025-09-21 22:09:01,612 - sqlalchemy.engine.Engine - INFO - [cached since 250.7s ago] ()
2025-09-21 22:09:01,613 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d006fdd8bb441a2cf58230"}}
2025-09-21 22:09:01,613 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d006fdd8bb441a2cf58230"}, "previousDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58230, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58230, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:09:01,613 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d006fdd8bb441a2cf58230"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,613 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,613 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58230, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}}
2025-09-21 22:09:01,613 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58230, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "remainingTimeMS": 4999}
2025-09-21 22:09:01,614 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:09:01,614 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:09:01,614 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:09:01,614 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:09:01,614 INFO sqlalchemy.engine.Engine [cached since 250.7s ago] (1, 1, 0)
2025-09-21 22:09:01,614 - sqlalchemy.engine.Engine - INFO - [cached since 250.7s ago] (1, 1, 0)
2025-09-21 22:09:01,614 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:09:01,614 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:09:01,614 INFO sqlalchemy.engine.Engine [cached since 250.7s ago] ()
2025-09-21 22:09:01,614 - sqlalchemy.engine.Engine - INFO - [cached since 250.7s ago] ()
2025-09-21 22:09:01,614 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d006fdd8bb441a2cf58231"}}
2025-09-21 22:09:01,614 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d006fdd8bb441a2cf58231"}, "previousDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58231, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58231, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:09:01,614 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d006fdd8bb441a2cf58231"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,614 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,615 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58231, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}}
2025-09-21 22:09:01,615 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58231, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "remainingTimeMS": 4999}
2025-09-21 22:09:01,617 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d006fdd8bb441a2cf58230"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:09:01,617 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d006fdd8bb441a2cf58231"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:09:01,675 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d006fdd8bb441a2cf58231"}, "driverConnectionId": 1, "serverConnectionId": 2364528, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 58.33887495100498, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:09:01.818Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364528, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:09:01,676 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,676 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d006fdd8bb441a2cf58231"}, "previousDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58231, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58231, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05833887495100498>]>"}
2025-09-21 22:09:01,676 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58231, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05833887495100498>]>", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,676 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d006fdd8bb441a2cf58231"}, "driverConnectionId": 1, "serverConnectionId": 2364528, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:09:01,676 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,676 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:09:01,681 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d006fdd8bb441a2cf58230"}, "driverConnectionId": 1, "serverConnectionId": 2364529, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 63.994166906923056, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:09:01.824Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364529, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:09:01,681 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,681 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d006fdd8bb441a2cf58230"}, "previousDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58230, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58230, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06399416690692306>]>"}
2025-09-21 22:09:01,681 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58230, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06399416690692306>]>", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,681 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,681 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:09:01,681 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d006fdd8bb441a2cf58230"}, "driverConnectionId": 1, "serverConnectionId": 2364529, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:09:01,773 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.08999812509864569}
2025-09-21 22:09:01,773 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09216454206034541}
2025-09-21 22:09:01,774 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"UssFqPOmQe+To8/9AXSQ7Q==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 571540977, "operationId": 571540977, "driverConnectionId": 1, "serverConnectionId": 2364532, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,779 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10116687510162592}
2025-09-21 22:09:01,779 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10357954213395715}
2025-09-21 22:09:01,780 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Htgbftt3QNCMLPKVpt/nJw==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 194847408, "operationId": 194847408, "driverConnectionId": 1, "serverConnectionId": 2364533, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,840 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "durationMS": 66.338, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 571540977, "operationId": 571540977, "driverConnectionId": 1, "serverConnectionId": 2364532, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,840 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:09:01,840 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58230, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06399416690692306>]>", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}}
2025-09-21 22:09:01,840 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58230, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06399416690692306>]>", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,841 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,841 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 4.933401942253113e-05}
2025-09-21 22:09:01,841 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "command": "{\"getMore\": 2531051840569485337, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"UssFqPOmQe+To8/9AXSQ7Q==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 2035308228, "operationId": 2035308228, "driverConnectionId": 1, "serverConnectionId": 2364532, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,853 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "durationMS": 73.352, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 194847408, "operationId": 194847408, "driverConnectionId": 1, "serverConnectionId": 2364533, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,853 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:09:01,853 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58231, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05833887495100498>]>", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}}
2025-09-21 22:09:01,854 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d006fdd8bb441a2cf58231, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05833887495100498>]>", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,854 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,854 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 4.787510260939598e-05}
2025-09-21 22:09:01,854 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "command": "{\"getMore\": 8698343812339213152, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Htgbftt3QNCMLPKVpt/nJw==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 158374933, "operationId": 158374933, "driverConnectionId": 1, "serverConnectionId": 2364533, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,872 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "durationMS": 31.651, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 2035308228, "operationId": 2035308228, "driverConnectionId": 1, "serverConnectionId": 2364532, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,873 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d006fdd8bb441a2cf58230"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:49490 - "GET /api/v1/positions/summary HTTP/1.1" 200 OK
2025-09-21 22:09:01,886 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:09:01,886 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:09:01,888 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "durationMS": 34.205, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 158374933, "operationId": 158374933, "driverConnectionId": 1, "serverConnectionId": 2364533, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:09:01,888 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d006fdd8bb441a2cf58231"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:49492 - "GET /api/v1/positions?accounts=901203963&accounts=901208017&accounts=901208110&accounts=901210166 HTTP/1.1" 200 OK
2025-09-21 22:09:01,897 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:09:01,897 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:10:23,826 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:10:23,826 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:10:23,826 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:10:23,826 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:10:23,826 INFO sqlalchemy.engine.Engine [cached since 332.9s ago] (1, 1, 0)
2025-09-21 22:10:23,826 - sqlalchemy.engine.Engine - INFO - [cached since 332.9s ago] (1, 1, 0)
2025-09-21 22:10:23,827 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:10:23,827 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:10:23,827 INFO sqlalchemy.engine.Engine [cached since 332.9s ago] ()
2025-09-21 22:10:23,827 - sqlalchemy.engine.Engine - INFO - [cached since 332.9s ago] ()
2025-09-21 22:10:23,827 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d0074fd8bb441a2cf58232"}}
2025-09-21 22:10:23,828 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:10:23,828 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0074fd8bb441a2cf58232"}, "previousDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58232, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58232, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:10:23,828 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:10:23,828 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:10:23,828 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d0074fd8bb441a2cf58232"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:23,828 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:10:23,828 INFO sqlalchemy.engine.Engine [cached since 332.9s ago] (1, 1, 0)
2025-09-21 22:10:23,828 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:23,828 - sqlalchemy.engine.Engine - INFO - [cached since 332.9s ago] (1, 1, 0)
2025-09-21 22:10:23,829 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58232, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}}
2025-09-21 22:10:23,829 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58232, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "remainingTimeMS": 4999}
2025-09-21 22:10:23,829 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:10:23,829 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:10:23,829 INFO sqlalchemy.engine.Engine [cached since 332.9s ago] ()
2025-09-21 22:10:23,829 - sqlalchemy.engine.Engine - INFO - [cached since 332.9s ago] ()
2025-09-21 22:10:23,829 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d0074fd8bb441a2cf58233"}}
2025-09-21 22:10:23,829 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0074fd8bb441a2cf58233"}, "previousDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58233, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58233, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:10:23,829 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d0074fd8bb441a2cf58233"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:23,829 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:23,830 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58233, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}}
2025-09-21 22:10:23,830 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58233, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "remainingTimeMS": 4999}
2025-09-21 22:10:23,830 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0074fd8bb441a2cf58232"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:10:23,830 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0074fd8bb441a2cf58233"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:10:23,882 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d0074fd8bb441a2cf58232"}, "driverConnectionId": 1, "serverConnectionId": 2364534, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 52.49399971216917, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:10:24.030Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364534, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:10:23,882 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:23,882 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0074fd8bb441a2cf58232"}, "previousDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58232, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58232, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05249399971216917>]>"}
2025-09-21 22:10:23,883 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58232, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05249399971216917>]>", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:23,883 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:23,883 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:10:23,883 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0074fd8bb441a2cf58232"}, "driverConnectionId": 1, "serverConnectionId": 2364534, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:10:23,893 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d0074fd8bb441a2cf58233"}, "driverConnectionId": 1, "serverConnectionId": 2364535, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 63.09337494894862, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:10:24.037Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364535, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:10:23,893 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:23,894 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0074fd8bb441a2cf58233"}, "previousDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58233, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58233, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06309337494894862>]>"}
2025-09-21 22:10:23,894 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58233, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06309337494894862>]>", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:23,894 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:23,894 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0074fd8bb441a2cf58233"}, "driverConnectionId": 1, "serverConnectionId": 2364535, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:10:23,894 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:10:23,983 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09858795767650008}
2025-09-21 22:10:23,983 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10031491657719016}
2025-09-21 22:10:23,983 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"2GymAvStSuqEZVdwZax/WQ==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1777724115, "operationId": 1777724115, "driverConnectionId": 1, "serverConnectionId": 2364536, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:23,985 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.08904587524011731}
2025-09-21 22:10:23,985 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09155966667458415}
2025-09-21 22:10:23,985 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"WQLBTGxSRfegku7TmWTnbw==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 269220094, "operationId": 269220094, "driverConnectionId": 1, "serverConnectionId": 2364539, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:24,050 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "durationMS": 64.78699999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 269220094, "operationId": 269220094, "driverConnectionId": 1, "serverConnectionId": 2364539, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:24,051 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:10:24,051 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58233, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06309337494894862>]>", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}}
2025-09-21 22:10:24,052 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58233, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06309337494894862>]>", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:24,052 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:24,052 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0001004580408334732}
2025-09-21 22:10:24,052 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "command": "{\"getMore\": 4211304535639258085, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"WQLBTGxSRfegku7TmWTnbw==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 34075629, "operationId": 34075629, "driverConnectionId": 1, "serverConnectionId": 2364539, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:24,054 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "durationMS": 70.80699999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 1777724115, "operationId": 1777724115, "driverConnectionId": 1, "serverConnectionId": 2364536, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:24,054 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:10:24,055 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58232, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05249399971216917>]>", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}}
2025-09-21 22:10:24,055 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d0074fd8bb441a2cf58232, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05249399971216917>]>", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:24,055 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:24,055 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 7.245782762765884e-05}
2025-09-21 22:10:24,055 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "command": "{\"getMore\": 5773563071158638076, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"2GymAvStSuqEZVdwZax/WQ==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1478446501, "operationId": 1478446501, "driverConnectionId": 1, "serverConnectionId": 2364536, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:24,082 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "durationMS": 29.746000000000002, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 34075629, "operationId": 34075629, "driverConnectionId": 1, "serverConnectionId": 2364539, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:24,083 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0074fd8bb441a2cf58233"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:10:24,088 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "durationMS": 33.531, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1478446501, "operationId": 1478446501, "driverConnectionId": 1, "serverConnectionId": 2364536, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:24,092 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0074fd8bb441a2cf58232"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:49821 - "GET /api/v1/positions?accounts=901203963&accounts=901208017&accounts=901208110&accounts=901210166 HTTP/1.1" 200 OK
2025-09-21 22:10:24,102 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:10:24,102 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:49820 - "GET /api/v1/positions/summary HTTP/1.1" 200 OK
2025-09-21 22:10:24,105 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:10:24,105 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:10:47,309 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:10:47,309 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:10:47,309 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:10:47,309 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:10:47,310 INFO sqlalchemy.engine.Engine [cached since 356.4s ago] (1, 1, 0)
2025-09-21 22:10:47,310 - sqlalchemy.engine.Engine - INFO - [cached since 356.4s ago] (1, 1, 0)
2025-09-21 22:10:47,311 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:10:47,311 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:10:47,311 INFO sqlalchemy.engine.Engine [cached since 356.4s ago] ()
2025-09-21 22:10:47,311 - sqlalchemy.engine.Engine - INFO - [cached since 356.4s ago] ()
2025-09-21 22:10:47,312 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d00767d8bb441a2cf58234"}}
2025-09-21 22:10:47,312 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00767d8bb441a2cf58234"}, "previousDescription": "<TopologyDescription id: 68d00767d8bb441a2cf58234, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d00767d8bb441a2cf58234, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:10:47,312 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d00767d8bb441a2cf58234"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:47,312 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d00767d8bb441a2cf58234"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:47,313 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00767d8bb441a2cf58234, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00767d8bb441a2cf58234"}}
2025-09-21 22:10:47,313 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00767d8bb441a2cf58234, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00767d8bb441a2cf58234"}, "remainingTimeMS": 4999}
2025-09-21 22:10:47,314 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00767d8bb441a2cf58234"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:10:47,379 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d00767d8bb441a2cf58234"}, "driverConnectionId": 1, "serverConnectionId": 2364540, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 64.08374989405274, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:10:47.522Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364540, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:10:47,379 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d00767d8bb441a2cf58234"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:47,380 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00767d8bb441a2cf58234"}, "previousDescription": "<TopologyDescription id: 68d00767d8bb441a2cf58234, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d00767d8bb441a2cf58234, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06408374989405274>]>"}
2025-09-21 22:10:47,380 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00767d8bb441a2cf58234, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06408374989405274>]>", "clientId": {"$oid": "68d00767d8bb441a2cf58234"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:47,380 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00767d8bb441a2cf58234"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:47,380 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00767d8bb441a2cf58234"}, "driverConnectionId": 1, "serverConnectionId": 2364540, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:10:47,380 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d00767d8bb441a2cf58234"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:10:47,476 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d00767d8bb441a2cf58234"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09298025025054812}
2025-09-21 22:10:47,476 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00767d8bb441a2cf58234"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09645383385941386}
2025-09-21 22:10:47,477 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00767d8bb441a2cf58234"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"1RzX47DRSfixaYCvDS4ygg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1908194298, "operationId": 1908194298, "driverConnectionId": 1, "serverConnectionId": 2364541, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:47,536 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00767d8bb441a2cf58234"}, "durationMS": 58.971999999999994, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 1908194298, "operationId": 1908194298, "driverConnectionId": 1, "serverConnectionId": 2364541, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:47,537 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00767d8bb441a2cf58234"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:49904 - "GET /api/v1/positions?accounts=901203963&accounts=901208017&accounts=901210166 HTTP/1.1" 200 OK
2025-09-21 22:10:47,552 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:10:47,552 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:10:49,508 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:10:49,508 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:10:49,508 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:10:49,508 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:10:49,508 INFO sqlalchemy.engine.Engine [cached since 358.6s ago] (1, 1, 0)
2025-09-21 22:10:49,508 - sqlalchemy.engine.Engine - INFO - [cached since 358.6s ago] (1, 1, 0)
2025-09-21 22:10:49,509 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:10:49,509 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:10:49,510 INFO sqlalchemy.engine.Engine [cached since 358.6s ago] ()
2025-09-21 22:10:49,510 - sqlalchemy.engine.Engine - INFO - [cached since 358.6s ago] ()
2025-09-21 22:10:49,511 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d00769d8bb441a2cf58235"}}
2025-09-21 22:10:49,511 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00769d8bb441a2cf58235"}, "previousDescription": "<TopologyDescription id: 68d00769d8bb441a2cf58235, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d00769d8bb441a2cf58235, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:10:49,512 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d00769d8bb441a2cf58235"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:49,512 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d00769d8bb441a2cf58235"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:49,512 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00769d8bb441a2cf58235, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00769d8bb441a2cf58235"}}
2025-09-21 22:10:49,513 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00769d8bb441a2cf58235, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00769d8bb441a2cf58235"}, "remainingTimeMS": 4999}
2025-09-21 22:10:49,514 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00769d8bb441a2cf58235"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:10:49,583 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d00769d8bb441a2cf58235"}, "driverConnectionId": 1, "serverConnectionId": 2364543, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 68.90633283182979, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:10:49.726Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364543, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:10:49,583 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d00769d8bb441a2cf58235"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:49,584 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00769d8bb441a2cf58235"}, "previousDescription": "<TopologyDescription id: 68d00769d8bb441a2cf58235, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d00769d8bb441a2cf58235, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06890633283182979>]>"}
2025-09-21 22:10:49,584 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00769d8bb441a2cf58235, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06890633283182979>]>", "clientId": {"$oid": "68d00769d8bb441a2cf58235"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:49,584 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00769d8bb441a2cf58235"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:49,584 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00769d8bb441a2cf58235"}, "driverConnectionId": 1, "serverConnectionId": 2364543, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:10:49,584 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d00769d8bb441a2cf58235"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:10:49,685 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d00769d8bb441a2cf58235"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09913762519136071}
2025-09-21 22:10:49,685 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00769d8bb441a2cf58235"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.1013613329268992}
2025-09-21 22:10:49,686 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00769d8bb441a2cf58235"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"gvLWRwBgTva9eqewZPSZzg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1816731566, "operationId": 1816731566, "driverConnectionId": 1, "serverConnectionId": 2364544, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:49,748 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00769d8bb441a2cf58235"}, "durationMS": 62.227, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 1816731566, "operationId": 1816731566, "driverConnectionId": 1, "serverConnectionId": 2364544, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:49,748 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00769d8bb441a2cf58235"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:49934 - "GET /api/v1/positions?accounts=901203963&accounts=901210166 HTTP/1.1" 200 OK
2025-09-21 22:10:49,764 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:10:49,764 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:10:52,556 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:10:52,556 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:10:52,557 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:10:52,557 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:10:52,557 INFO sqlalchemy.engine.Engine [cached since 361.7s ago] (1, 1, 0)
2025-09-21 22:10:52,557 - sqlalchemy.engine.Engine - INFO - [cached since 361.7s ago] (1, 1, 0)
2025-09-21 22:10:52,558 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:10:52,558 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:10:52,558 INFO sqlalchemy.engine.Engine [cached since 361.7s ago] ()
2025-09-21 22:10:52,558 - sqlalchemy.engine.Engine - INFO - [cached since 361.7s ago] ()
2025-09-21 22:10:52,559 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d0076cd8bb441a2cf58236"}}
2025-09-21 22:10:52,559 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0076cd8bb441a2cf58236"}, "previousDescription": "<TopologyDescription id: 68d0076cd8bb441a2cf58236, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d0076cd8bb441a2cf58236, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:10:52,559 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d0076cd8bb441a2cf58236"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:52,560 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d0076cd8bb441a2cf58236"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:52,561 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0076cd8bb441a2cf58236, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0076cd8bb441a2cf58236"}}
2025-09-21 22:10:52,561 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0076cd8bb441a2cf58236, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0076cd8bb441a2cf58236"}, "remainingTimeMS": 4999}
2025-09-21 22:10:52,562 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0076cd8bb441a2cf58236"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:10:52,619 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d0076cd8bb441a2cf58236"}, "driverConnectionId": 1, "serverConnectionId": 2364546, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 57.003458961844444, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:10:52.766Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364546, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:10:52,620 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d0076cd8bb441a2cf58236"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:52,620 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0076cd8bb441a2cf58236"}, "previousDescription": "<TopologyDescription id: 68d0076cd8bb441a2cf58236, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d0076cd8bb441a2cf58236, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.057003458961844444>]>"}
2025-09-21 22:10:52,620 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0076cd8bb441a2cf58236, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.057003458961844444>]>", "clientId": {"$oid": "68d0076cd8bb441a2cf58236"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:52,620 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0076cd8bb441a2cf58236"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:52,620 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d0076cd8bb441a2cf58236"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:10:52,620 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0076cd8bb441a2cf58236"}, "driverConnectionId": 1, "serverConnectionId": 2364546, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:10:52,730 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d0076cd8bb441a2cf58236"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10680770920589566}
2025-09-21 22:10:52,730 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0076cd8bb441a2cf58236"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.11016729101538658}
2025-09-21 22:10:52,731 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0076cd8bb441a2cf58236"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901210166\", \"901208017\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ZYsvmKKlR7G3Pwwp4svZGQ==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1004844897, "operationId": 1004844897, "driverConnectionId": 1, "serverConnectionId": 2364547, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:52,802 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0076cd8bb441a2cf58236"}, "durationMS": 71.461, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 1004844897, "operationId": 1004844897, "driverConnectionId": 1, "serverConnectionId": 2364547, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:52,803 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0076cd8bb441a2cf58236"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:49951 - "GET /api/v1/positions?accounts=901203963&accounts=901210166&accounts=901208017 HTTP/1.1" 200 OK
2025-09-21 22:10:52,818 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:10:52,818 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:10:53,486 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:10:53,486 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:10:53,487 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:10:53,487 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:10:53,487 INFO sqlalchemy.engine.Engine [cached since 362.6s ago] (1, 1, 0)
2025-09-21 22:10:53,487 - sqlalchemy.engine.Engine - INFO - [cached since 362.6s ago] (1, 1, 0)
2025-09-21 22:10:53,488 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:10:53,488 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:10:53,489 INFO sqlalchemy.engine.Engine [cached since 362.6s ago] ()
2025-09-21 22:10:53,489 - sqlalchemy.engine.Engine - INFO - [cached since 362.6s ago] ()
2025-09-21 22:10:53,490 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d0076dd8bb441a2cf58237"}}
2025-09-21 22:10:53,490 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0076dd8bb441a2cf58237"}, "previousDescription": "<TopologyDescription id: 68d0076dd8bb441a2cf58237, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d0076dd8bb441a2cf58237, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:10:53,491 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d0076dd8bb441a2cf58237"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:53,491 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:53,492 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0076dd8bb441a2cf58237, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}}
2025-09-21 22:10:53,492 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0076dd8bb441a2cf58237, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "remainingTimeMS": 4999}
2025-09-21 22:10:53,493 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0076dd8bb441a2cf58237"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:10:53,553 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d0076dd8bb441a2cf58237"}, "driverConnectionId": 1, "serverConnectionId": 2364549, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 59.237292036414146, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:10:53.700Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364549, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:10:53,554 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:53,554 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0076dd8bb441a2cf58237"}, "previousDescription": "<TopologyDescription id: 68d0076dd8bb441a2cf58237, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d0076dd8bb441a2cf58237, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059237292036414146>]>"}
2025-09-21 22:10:53,554 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0076dd8bb441a2cf58237, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059237292036414146>]>", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:53,554 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:53,554 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0076dd8bb441a2cf58237"}, "driverConnectionId": 1, "serverConnectionId": 2364549, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:10:53,555 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:10:53,666 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.1085358327254653}
2025-09-21 22:10:53,666 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.11183112533763051}
2025-09-21 22:10:53,666 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901210166\", \"901208017\", \"901208110\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"QJdoRjPpR9OnoGqP8Qk6cg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 70982397, "operationId": 70982397, "driverConnectionId": 1, "serverConnectionId": 2364551, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:53,735 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "durationMS": 69.054, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 70982397, "operationId": 70982397, "driverConnectionId": 1, "serverConnectionId": 2364551, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:53,736 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:10:53,736 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d0076dd8bb441a2cf58237, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059237292036414146>]>", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}}
2025-09-21 22:10:53,737 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d0076dd8bb441a2cf58237, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059237292036414146>]>", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:53,737 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:53,737 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 6.708409637212753e-05}
2025-09-21 22:10:53,737 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "command": "{\"getMore\": 683858867530572702, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"QJdoRjPpR9OnoGqP8Qk6cg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1147722294, "operationId": 1147722294, "driverConnectionId": 1, "serverConnectionId": 2364551, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:53,770 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "durationMS": 33.135999999999996, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1147722294, "operationId": 1147722294, "driverConnectionId": 1, "serverConnectionId": 2364551, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:10:53,771 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0076dd8bb441a2cf58237"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:49961 - "GET /api/v1/positions?accounts=901203963&accounts=901210166&accounts=901208017&accounts=901208110 HTTP/1.1" 200 OK
2025-09-21 22:10:53,790 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:10:53,790 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:50092 - "GET /api/v1/dashboard/summary HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:50094 - "GET /api/v1/dashboard/accounts HTTP/1.1" 401 Unauthorized
2025-09-21 22:11:51,328 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:11:51,328 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:11:51,329 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-09-21 22:11:51,329 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-09-21 22:11:51,329 INFO sqlalchemy.engine.Engine [cached since 421.7s ago] ('admin', 1, 0)
2025-09-21 22:11:51,329 - sqlalchemy.engine.Engine - INFO - [cached since 421.7s ago] ('admin', 1, 0)
2025-09-21 22:11:51,331 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-09-21 22:11:51,335 - passlib.handlers.bcrypt - DEBUG - detected 'bcrypt' backend, version '<unknown>'
2025-09-21 22:11:51,336 - passlib.handlers.bcrypt - DEBUG - 'bcrypt' backend lacks $2$ support, enabling workaround
2025-09-21 22:11:51,545 INFO sqlalchemy.engine.Engine UPDATE users SET updated_at=CURRENT_TIMESTAMP, last_login=? WHERE users.id = ?
2025-09-21 22:11:51,545 - sqlalchemy.engine.Engine - INFO - UPDATE users SET updated_at=CURRENT_TIMESTAMP, last_login=? WHERE users.id = ?
2025-09-21 22:11:51,545 INFO sqlalchemy.engine.Engine [generated in 0.00024s] ('2025-09-21 14:11:51.544298', 1)
2025-09-21 22:11:51,545 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('2025-09-21 14:11:51.544298', 1)
2025-09-21 22:11:51,546 INFO sqlalchemy.engine.Engine COMMIT
2025-09-21 22:11:51,546 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-21 22:11:51,548 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:11:51,548 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:11:51,548 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
2025-09-21 22:11:51,548 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
2025-09-21 22:11:51,548 INFO sqlalchemy.engine.Engine [generated in 0.00006s] (1,)
2025-09-21 22:11:51,548 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] (1,)
2025-09-21 22:11:51,549 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:11:51,549 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:11:51,549 INFO sqlalchemy.engine.Engine [cached since 420.6s ago] ()
2025-09-21 22:11:51,549 - sqlalchemy.engine.Engine - INFO - [cached since 420.6s ago] ()
INFO:     127.0.0.1:50119 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2025-09-21 22:11:51,549 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:11:51,549 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:11:51,692 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:11:51,692 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:11:51,692 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:11:51,692 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:11:51,693 INFO sqlalchemy.engine.Engine [cached since 420.8s ago] (1, 1, 0)
2025-09-21 22:11:51,693 - sqlalchemy.engine.Engine - INFO - [cached since 420.8s ago] (1, 1, 0)
2025-09-21 22:11:51,693 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:11:51,693 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:11:51,693 INFO sqlalchemy.engine.Engine [cached since 420.8s ago] ()
2025-09-21 22:11:51,693 - sqlalchemy.engine.Engine - INFO - [cached since 420.8s ago] ()
2025-09-21 22:11:51,694 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:11:51,694 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:11:51,695 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:11:51,695 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:11:51,696 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:11:51,696 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:11:51,696 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:11:51,696 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:11:51,696 INFO sqlalchemy.engine.Engine [cached since 420.8s ago] (1, 1, 0)
2025-09-21 22:11:51,696 - sqlalchemy.engine.Engine - INFO - [cached since 420.8s ago] (1, 1, 0)
2025-09-21 22:11:51,696 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d007a7d8bb441a2cf58238"}}
2025-09-21 22:11:51,696 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007a7d8bb441a2cf58238"}, "previousDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58238, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58238, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:11:51,696 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,697 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,697 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:11:51,697 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:11:51,697 INFO sqlalchemy.engine.Engine [cached since 420.8s ago] ()
2025-09-21 22:11:51,697 - sqlalchemy.engine.Engine - INFO - [cached since 420.8s ago] ()
2025-09-21 22:11:51,697 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58238, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}}
2025-09-21 22:11:51,698 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58238, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "remainingTimeMS": 4999}
2025-09-21 22:11:51,698 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:11:51,698 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:11:51,698 INFO sqlalchemy.engine.Engine [cached since 0.003762s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:11:51,698 - sqlalchemy.engine.Engine - INFO - [cached since 0.003762s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:11:51,699 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d007a7d8bb441a2cf58239"}}
2025-09-21 22:11:51,699 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007a7d8bb441a2cf58239"}, "previousDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58239, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58239, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:11:51,699 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,699 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,699 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58239, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}}
2025-09-21 22:11:51,699 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58239, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "remainingTimeMS": 4999}
2025-09-21 22:11:51,701 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007a7d8bb441a2cf58238"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:11:51,701 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007a7d8bb441a2cf58239"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:11:51,761 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d007a7d8bb441a2cf58238"}, "driverConnectionId": 1, "serverConnectionId": 2364552, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 59.93204191327095, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:11:51.909Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364552, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:11:51,762 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,762 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007a7d8bb441a2cf58238"}, "previousDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58238, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58238, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05993204191327095>]>"}
2025-09-21 22:11:51,762 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58238, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05993204191327095>]>", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,763 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,763 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:51,763 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007a7d8bb441a2cf58238"}, "driverConnectionId": 1, "serverConnectionId": 2364552, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:11:51,769 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d007a7d8bb441a2cf58239"}, "driverConnectionId": 1, "serverConnectionId": 2364553, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 67.45120789855719, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:11:51.913Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364553, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:11:51,769 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,769 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007a7d8bb441a2cf58239"}, "previousDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58239, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58239, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06745120789855719>]>"}
2025-09-21 22:11:51,770 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58239, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06745120789855719>]>", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,770 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,770 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007a7d8bb441a2cf58239"}, "driverConnectionId": 1, "serverConnectionId": 2364553, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:11:51,770 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:51,860 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09285120898857713}
2025-09-21 22:11:51,860 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09761779103428125}
2025-09-21 22:11:51,861 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "command": "{\"find\": \"account\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ewVDehg7RXG+D1/6ggBXpw==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 280090412, "operationId": 280090412, "driverConnectionId": 1, "serverConnectionId": 2364554, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,866 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0919112078845501}
2025-09-21 22:11:51,866 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09622812503948808}
2025-09-21 22:11:51,867 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "command": "{\"find\": \"account\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u74D9PfWQwCX16wZ7iVu1A==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 195400260, "operationId": 195400260, "driverConnectionId": 1, "serverConnectionId": 2364556, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,890 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "durationMS": 29.089, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6621347d6cc2a08113724e66\"}, \"accountid\": \"901203963\", \"available\": 3998148.9605662003, \"balance\": 5028412.860566201, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 1030263.9000000004, \"updatetime\": \"2025-09-20 02:43:45\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db92\"}, \"accountid\": \"901208017\", \"available\": 6085039.4047703, \"balance\": 7588920.8547703, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208017\", \"margin\": 1503881.4500000002, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db93\"}, \"accountid\": \"901208110\", \"available\": 4582377.926748, \"balance\": 5727884.176748, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208110\", \"margin\": 1145506.25, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"6621347d6cc2a08113724e67\"}, \"accountid\": \"901210166\", \"available\": 72492.18000000001, \"balance\": 72492.18000000001, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901210166\", \"updatetim...", "commandName": "find", "databaseName": "VALAR", "requestId": 280090412, "operationId": 280090412, "driverConnectionId": 1, "serverConnectionId": 2364554, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,890 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:51,891 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58238, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05993204191327095>]>", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}}
2025-09-21 22:11:51,891 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58238, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05993204191327095>]>", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,892 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,892 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.00016145827248692513}
2025-09-21 22:11:51,892 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ewVDehg7RXG+D1/6ggBXpw==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 589673557, "operationId": 589673557, "driverConnectionId": 1, "serverConnectionId": 2364554, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,895 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "durationMS": 29.038999999999998, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6621347d6cc2a08113724e66\"}, \"accountid\": \"901203963\", \"available\": 3998148.9605662003, \"balance\": 5028412.860566201, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 1030263.9000000004, \"updatetime\": \"2025-09-20 02:43:45\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db92\"}, \"accountid\": \"901208017\", \"available\": 6085039.4047703, \"balance\": 7588920.8547703, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208017\", \"margin\": 1503881.4500000002, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db93\"}, \"accountid\": \"901208110\", \"available\": 4582377.926748, \"balance\": 5727884.176748, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208110\", \"margin\": 1145506.25, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"6621347d6cc2a08113724e67\"}, \"accountid\": \"901210166\", \"available\": 72492.18000000001, \"balance\": 72492.18000000001, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901210166\", \"updatetim...", "commandName": "find", "databaseName": "VALAR", "requestId": 195400260, "operationId": 195400260, "driverConnectionId": 1, "serverConnectionId": 2364556, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,896 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:51,898 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58239, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06745120789855719>]>", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}}
2025-09-21 22:11:51,899 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58239, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06745120789855719>]>", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,900 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,900 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.00024583423510193825}
2025-09-21 22:11:51,901 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u74D9PfWQwCX16wZ7iVu1A==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 6441594, "operationId": 6441594, "driverConnectionId": 1, "serverConnectionId": 2364556, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,954 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "durationMS": 61.839999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 589673557, "operationId": 589673557, "driverConnectionId": 1, "serverConnectionId": 2364554, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,955 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:51,955 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58238, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05993204191327095>]>", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}}
2025-09-21 22:11:51,955 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58238, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05993204191327095>]>", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,956 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,956 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.00019641593098640442}
2025-09-21 22:11:51,956 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "command": "{\"getMore\": 173391875644038524, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ewVDehg7RXG+D1/6ggBXpw==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 889688008, "operationId": 889688008, "driverConnectionId": 1, "serverConnectionId": 2364554, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,964 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "durationMS": 62.995999999999995, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 6441594, "operationId": 6441594, "driverConnectionId": 1, "serverConnectionId": 2364556, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,964 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:51,965 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58239, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06745120789855719>]>", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}}
2025-09-21 22:11:51,965 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007a7d8bb441a2cf58239, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06745120789855719>]>", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,965 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,965 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0001238337717950344}
2025-09-21 22:11:51,965 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "command": "{\"getMore\": 1739733641788109779, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u74D9PfWQwCX16wZ7iVu1A==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 57716395, "operationId": 57716395, "driverConnectionId": 1, "serverConnectionId": 2364556, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,987 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "durationMS": 30.792, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 889688008, "operationId": 889688008, "driverConnectionId": 1, "serverConnectionId": 2364554, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:51,988 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007a7d8bb441a2cf58238"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:52,001 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "durationMS": 35.147999999999996, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 57716395, "operationId": 57716395, "driverConnectionId": 1, "serverConnectionId": 2364556, "serverHost": "valar.site", "serverPort": 27088}
INFO:     127.0.0.1:50122 - "GET /api/v1/dashboard/summary HTTP/1.1" 200 OK
2025-09-21 22:11:52,002 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007a7d8bb441a2cf58239"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:52,010 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:11:52,010 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:50123 - "GET /api/v1/dashboard/accounts HTTP/1.1" 200 OK
2025-09-21 22:11:52,012 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:11:52,012 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:11:57,284 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:11:57,284 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:11:57,285 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:11:57,285 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:11:57,285 INFO sqlalchemy.engine.Engine [cached since 426.4s ago] (1, 1, 0)
2025-09-21 22:11:57,285 - sqlalchemy.engine.Engine - INFO - [cached since 426.4s ago] (1, 1, 0)
2025-09-21 22:11:57,287 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:11:57,287 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:11:57,287 INFO sqlalchemy.engine.Engine [cached since 426.4s ago] ()
2025-09-21 22:11:57,287 - sqlalchemy.engine.Engine - INFO - [cached since 426.4s ago] ()
2025-09-21 22:11:57,288 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:11:57,288 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:11:57,288 INFO sqlalchemy.engine.Engine [cached since 5.594s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:11:57,288 - sqlalchemy.engine.Engine - INFO - [cached since 5.594s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:11:57,290 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:11:57,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:11:57,290 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:11:57,290 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:11:57,291 INFO sqlalchemy.engine.Engine [cached since 426.4s ago] (1, 1, 0)
2025-09-21 22:11:57,291 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d007add8bb441a2cf5823a"}}
2025-09-21 22:11:57,291 - sqlalchemy.engine.Engine - INFO - [cached since 426.4s ago] (1, 1, 0)
2025-09-21 22:11:57,291 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007add8bb441a2cf5823a"}, "previousDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823a, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823a, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:11:57,291 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,292 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:11:57,292 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:11:57,292 INFO sqlalchemy.engine.Engine [cached since 426.4s ago] ()
2025-09-21 22:11:57,292 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,292 - sqlalchemy.engine.Engine - INFO - [cached since 426.4s ago] ()
2025-09-21 22:11:57,294 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823a, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}}
2025-09-21 22:11:57,294 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:11:57,295 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823a, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "remainingTimeMS": 4999}
2025-09-21 22:11:57,294 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:11:57,295 INFO sqlalchemy.engine.Engine [cached since 5.601s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:11:57,295 - sqlalchemy.engine.Engine - INFO - [cached since 5.601s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:11:57,297 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d007add8bb441a2cf5823b"}}
2025-09-21 22:11:57,298 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007add8bb441a2cf5823b"}, "previousDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823b, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823b, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:11:57,298 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:11:57,299 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,298 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007add8bb441a2cf5823a"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:11:57,298 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:11:57,300 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:11:57,299 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,300 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:11:57,300 INFO sqlalchemy.engine.Engine [cached since 426.4s ago] (1, 1, 0)
2025-09-21 22:11:57,301 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823b, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}}
2025-09-21 22:11:57,300 - sqlalchemy.engine.Engine - INFO - [cached since 426.4s ago] (1, 1, 0)
2025-09-21 22:11:57,301 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823b, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "remainingTimeMS": 4999}
2025-09-21 22:11:57,302 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:11:57,302 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:11:57,302 INFO sqlalchemy.engine.Engine [cached since 426.4s ago] ()
2025-09-21 22:11:57,302 - sqlalchemy.engine.Engine - INFO - [cached since 426.4s ago] ()
2025-09-21 22:11:57,303 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007add8bb441a2cf5823b"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:11:57,308 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d007add8bb441a2cf5823c"}}
2025-09-21 22:11:57,308 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007add8bb441a2cf5823c"}, "previousDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823c, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823c, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:11:57,308 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d007add8bb441a2cf5823c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,308 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,309 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823c, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}}
2025-09-21 22:11:57,309 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823c, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "remainingTimeMS": 4999}
2025-09-21 22:11:57,311 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007add8bb441a2cf5823c"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:11:57,355 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d007add8bb441a2cf5823a"}, "driverConnectionId": 1, "serverConnectionId": 2364558, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 54.99683367088437, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:11:57.502Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364558, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:11:57,355 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,356 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007add8bb441a2cf5823a"}, "previousDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823a, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05499683367088437>]>"}
2025-09-21 22:11:57,356 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05499683367088437>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,356 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,357 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:57,357 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007add8bb441a2cf5823a"}, "driverConnectionId": 1, "serverConnectionId": 2364558, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:11:57,368 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d007add8bb441a2cf5823b"}, "driverConnectionId": 1, "serverConnectionId": 2364559, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 63.79849975928664, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:11:57.513Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364559, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:11:57,369 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,369 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007add8bb441a2cf5823b"}, "previousDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823b, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06379849975928664>]>"}
2025-09-21 22:11:57,369 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06379849975928664>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,370 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007add8bb441a2cf5823b"}, "driverConnectionId": 1, "serverConnectionId": 2364559, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:11:57,370 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,371 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:57,371 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d007add8bb441a2cf5823c"}, "driverConnectionId": 1, "serverConnectionId": 2364560, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 60.48566568642855, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:11:57.514Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364560, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:11:57,371 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,372 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007add8bb441a2cf5823c"}, "previousDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823c, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823c, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06048566568642855>]>"}
2025-09-21 22:11:57,372 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823c, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06048566568642855>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,372 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,373 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:57,373 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007add8bb441a2cf5823c"}, "driverConnectionId": 1, "serverConnectionId": 2364560, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:11:57,447 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.08697225013747811}
2025-09-21 22:11:57,447 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0909139160066843}
2025-09-21 22:11:57,448 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "command": "{\"find\": \"account\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"uwd7g1cHQi2HiCHtn486/Q==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1267248590, "operationId": 1267248590, "driverConnectionId": 1, "serverConnectionId": 2364561, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,466 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.08515379205346107}
2025-09-21 22:11:57,466 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09390629082918167}
2025-09-21 22:11:57,467 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "command": "{\"find\": \"account_his\", \"filter\": {\"accountid\": \"901203963\", \"updatetime\": {\"$gte\": \"2025-09-15 15:15:00\"}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"I7K1gPLFQTytsJGqKXMlTg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 2051724831, "operationId": 2051724831, "driverConnectionId": 1, "serverConnectionId": 2364563, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,473 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09321329090744257}
2025-09-21 22:11:57,473 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10326291574165225}
2025-09-21 22:11:57,473 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "command": "{\"find\": \"account\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8gvi7hmvS3aP6jTmWFhjnA==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1194314738, "operationId": 1194314738, "driverConnectionId": 1, "serverConnectionId": 2364565, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,474 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "durationMS": 26.478, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6621347d6cc2a08113724e66\"}, \"accountid\": \"901203963\", \"available\": 3998148.9605662003, \"balance\": 5028412.860566201, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 1030263.9000000004, \"updatetime\": \"2025-09-20 02:43:45\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db92\"}, \"accountid\": \"901208017\", \"available\": 6085039.4047703, \"balance\": 7588920.8547703, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208017\", \"margin\": 1503881.4500000002, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db93\"}, \"accountid\": \"901208110\", \"available\": 4582377.926748, \"balance\": 5727884.176748, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208110\", \"margin\": 1145506.25, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"6621347d6cc2a08113724e67\"}, \"accountid\": \"901210166\", \"available\": 72492.18000000001, \"balance\": 72492.18000000001, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901210166\", \"updatetim...", "commandName": "find", "databaseName": "VALAR", "requestId": 1267248590, "operationId": 1267248590, "driverConnectionId": 1, "serverConnectionId": 2364561, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,475 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:57,476 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05499683367088437>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}}
2025-09-21 22:11:57,476 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05499683367088437>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,476 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,476 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.00011408282443881035}
2025-09-21 22:11:57,476 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"uwd7g1cHQi2HiCHtn486/Q==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 318153057, "operationId": 318153057, "driverConnectionId": 1, "serverConnectionId": 2364561, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,503 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "durationMS": 29.919, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6621347d6cc2a08113724e66\"}, \"accountid\": \"901203963\", \"available\": 3998148.9605662003, \"balance\": 5028412.860566201, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 1030263.9000000004, \"updatetime\": \"2025-09-20 02:43:45\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db92\"}, \"accountid\": \"901208017\", \"available\": 6085039.4047703, \"balance\": 7588920.8547703, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208017\", \"margin\": 1503881.4500000002, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db93\"}, \"accountid\": \"901208110\", \"available\": 4582377.926748, \"balance\": 5727884.176748, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208110\", \"margin\": 1145506.25, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"6621347d6cc2a08113724e67\"}, \"accountid\": \"901210166\", \"available\": 72492.18000000001, \"balance\": 72492.18000000001, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901210166\", \"updatetim...", "commandName": "find", "databaseName": "VALAR", "requestId": 1194314738, "operationId": 1194314738, "driverConnectionId": 1, "serverConnectionId": 2364565, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,504 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:57,505 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06379849975928664>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}}
2025-09-21 22:11:57,506 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06379849975928664>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,506 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,506 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.00018087495118379593}
2025-09-21 22:11:57,506 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8gvi7hmvS3aP6jTmWFhjnA==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 2111631616, "operationId": 2111631616, "driverConnectionId": 1, "serverConnectionId": 2364565, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,518 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "durationMS": 51.458999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c7bd245c6e2adfdc35711d\"}, \"updatetime\": \"2025-09-15 15:15:48\", \"accountid\": \"901203963\", \"available\": 4728165.23, \"balance\": 5011965.33, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 283800.0999999996}, {\"_id\": {\"$oid\": \"68c7bd605c6e2adfdc3573c1\"}, \"accountid\": \"901203963\", \"updatetime\": \"2025-09-15 15:16:48\", \"available\": 4728165.23, \"balance\": 5011965.33, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 283800.0999999996}, {\"_id\": {\"$oid\": \"68c7bd9c5c6e2adfdc357661\"}, \"updatetime\": \"2025-09-15 15:17:48\", \"accountid\": \"901203963\", \"available\": 4728165.23, \"balance\": 5011965.33, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 283800.0999999996}, {\"_id\": {\"$oid\": \"68c7bdd85c6e2adfdc357901\"}, \"updatetime\": \"2025-09-15 15:18:48\", \"accountid\": \"901203963\", \"available\": 4728165.23, \"balance\": 5011965.33, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 28380...", "commandName": "find", "databaseName": "VALAR", "requestId": 2051724831, "operationId": 2051724831, "driverConnectionId": 1, "serverConnectionId": 2364563, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,519 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:57,519 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823c, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06048566568642855>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}}
2025-09-21 22:11:57,519 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823c, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06048566568642855>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,519 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,519 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.000103791244328022}
2025-09-21 22:11:57,520 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "command": "{\"getMore\": 2869300439748705399, \"collection\": \"account_his\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"I7K1gPLFQTytsJGqKXMlTg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 877819790, "operationId": 877819790, "driverConnectionId": 1, "serverConnectionId": 2364563, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,537 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "durationMS": 60.869, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 318153057, "operationId": 318153057, "driverConnectionId": 1, "serverConnectionId": 2364561, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,538 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:57,538 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05499683367088437>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}}
2025-09-21 22:11:57,538 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05499683367088437>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,539 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,539 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 6.745895370841026e-05}
2025-09-21 22:11:57,539 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "command": "{\"getMore\": 556496732858559274, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"uwd7g1cHQi2HiCHtn486/Q==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 304555640, "operationId": 304555640, "driverConnectionId": 1, "serverConnectionId": 2364561, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,567 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "durationMS": 28.008000000000003, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 304555640, "operationId": 304555640, "driverConnectionId": 1, "serverConnectionId": 2364561, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,568 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007add8bb441a2cf5823a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:57,580 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "durationMS": 73.825, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 2111631616, "operationId": 2111631616, "driverConnectionId": 1, "serverConnectionId": 2364565, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,581 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:57,581 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06379849975928664>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}}
2025-09-21 22:11:57,582 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007add8bb441a2cf5823b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06379849975928664>]>", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,582 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,582 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 8.679088205099106e-05}
2025-09-21 22:11:57,582 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "command": "{\"getMore\": 2965386283994942986, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8gvi7hmvS3aP6jTmWFhjnA==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1213110679, "operationId": 1213110679, "driverConnectionId": 1, "serverConnectionId": 2364565, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,613 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "durationMS": 31.385999999999996, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1213110679, "operationId": 1213110679, "driverConnectionId": 1, "serverConnectionId": 2364565, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:57,615 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007add8bb441a2cf5823b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:11:58,147 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "durationMS": 627.591, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c818ec5c6e2adfdc368f3e\"}, \"accountid\": \"901203963\", \"updatetime\": \"2025-09-15 21:47:24\", \"available\": 4708967.33, \"balance\": 4995665.33, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 286698.0}, {\"_id\": {\"$oid\": \"68c819285c6e2adfdc3691de\"}, \"accountid\": \"901203963\", \"updatetime\": \"2025-09-15 21:48:24\", \"available\": 4708497.33, \"balance\": 4995195.33, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 286698.0}, {\"_id\": {\"$oid\": \"68c819655c6e2adfdc36947a\"}, \"updatetime\": \"2025-09-15 21:49:25\", \"accountid\": \"901203963\", \"available\": 4708337.33, \"balance\": 4995035.33, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 286698.0}, {\"_id\": {\"$oid\": \"68c819a15c6e2adfdc36971b\"}, \"accountid\": \"901203963\", \"updatetime\": \"2025-09-15 21:50:25\", \"available\": 4708587.33, \"balance\": 4995285.33, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 286698.0}, {\"_id\": {\"$oid\": \"68c8...", "commandName": "getMore", "databaseName": "VALAR", "requestId": 877819790, "operationId": 877819790, "driverConnectionId": 1, "serverConnectionId": 2364563, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:11:58,148 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007add8bb441a2cf5823c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:50155 - "GET /api/v1/dashboard/history?days=5&accounts=901203963 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50153 - "GET /api/v1/dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:50154 - "GET /api/v1/dashboard/accounts HTTP/1.1" 200 OK
2025-09-21 22:11:58,215 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:11:58,215 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:11:58,215 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:11:58,215 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:11:58,215 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:11:58,215 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:12:05,186 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:12:05,186 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:12:05,187 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:12:05,187 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:12:05,187 INFO sqlalchemy.engine.Engine [cached since 434.3s ago] (1, 1, 0)
2025-09-21 22:12:05,187 - sqlalchemy.engine.Engine - INFO - [cached since 434.3s ago] (1, 1, 0)
2025-09-21 22:12:05,189 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:12:05,189 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:12:05,189 INFO sqlalchemy.engine.Engine [cached since 434.3s ago] ()
2025-09-21 22:12:05,189 - sqlalchemy.engine.Engine - INFO - [cached since 434.3s ago] ()
2025-09-21 22:12:05,191 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d007b5d8bb441a2cf5823d"}}
2025-09-21 22:12:05,191 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "previousDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823d, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823d, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:12:05,192 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,192 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,193 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823d, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}}
2025-09-21 22:12:05,194 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823d, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "remainingTimeMS": 4999}
2025-09-21 22:12:05,197 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:12:05,256 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "driverConnectionId": 1, "serverConnectionId": 2364567, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 58.608375024050474, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:12:05.400Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364567, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:12:05,256 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,257 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "previousDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823d, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823d, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.058608375024050474>]>"}
2025-09-21 22:12:05,257 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823d, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.058608375024050474>]>", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,258 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,258 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "driverConnectionId": 1, "serverConnectionId": 2364567, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:12:05,258 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:12:05,355 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09099495923146605}
2025-09-21 22:12:05,355 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09719279082491994}
2025-09-21 22:12:05,356 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"jtLe+jJZRQ+fbTKQiEpmSg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 428975319, "operationId": 428975319, "driverConnectionId": 1, "serverConnectionId": 2364568, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,415 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "durationMS": 59.241, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 428975319, "operationId": 428975319, "driverConnectionId": 1, "serverConnectionId": 2364568, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,416 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:12:05,416 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823d, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.058608375024050474>]>", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}}
2025-09-21 22:12:05,416 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823d, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.058608375024050474>]>", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,417 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,417 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.00012837490066885948}
2025-09-21 22:12:05,417 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "command": "{\"getMore\": 2290900068623545391, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"jtLe+jJZRQ+fbTKQiEpmSg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 685583454, "operationId": 685583454, "driverConnectionId": 1, "serverConnectionId": 2364568, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,446 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "durationMS": 28.534, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 685583454, "operationId": 685583454, "driverConnectionId": 1, "serverConnectionId": 2364568, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,447 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007b5d8bb441a2cf5823d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:50204 - "GET /api/v1/positions/summary HTTP/1.1" 200 OK
2025-09-21 22:12:05,469 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:12:05,469 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:12:05,573 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:12:05,573 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:12:05,574 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:12:05,574 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:12:05,574 INFO sqlalchemy.engine.Engine [cached since 434.7s ago] (1, 1, 0)
2025-09-21 22:12:05,574 - sqlalchemy.engine.Engine - INFO - [cached since 434.7s ago] (1, 1, 0)
2025-09-21 22:12:05,575 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:12:05,575 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:12:05,576 INFO sqlalchemy.engine.Engine [cached since 434.7s ago] ()
2025-09-21 22:12:05,576 - sqlalchemy.engine.Engine - INFO - [cached since 434.7s ago] ()
2025-09-21 22:12:05,578 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d007b5d8bb441a2cf5823e"}}
2025-09-21 22:12:05,578 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "previousDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823e, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823e, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:12:05,578 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,579 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,580 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823e, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}}
2025-09-21 22:12:05,580 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823e, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "remainingTimeMS": 4999}
2025-09-21 22:12:05,582 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:12:05,639 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "driverConnectionId": 1, "serverConnectionId": 2364570, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 56.46199965849519, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:12:05.785Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364570, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:12:05,640 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,640 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "previousDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823e, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823e, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05646199965849519>]>"}
2025-09-21 22:12:05,640 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823e, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05646199965849519>]>", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,641 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,641 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "driverConnectionId": 1, "serverConnectionId": 2364570, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:12:05,641 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:12:05,756 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10916154086589813}
2025-09-21 22:12:05,756 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.11529391724616289}
2025-09-21 22:12:05,757 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"uWOz/Sm4RUqXOUGY+7TdqQ==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 532236123, "operationId": 532236123, "driverConnectionId": 1, "serverConnectionId": 2364572, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,829 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "durationMS": 71.92099999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 532236123, "operationId": 532236123, "driverConnectionId": 1, "serverConnectionId": 2364572, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,830 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:12:05,830 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823e, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05646199965849519>]>", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}}
2025-09-21 22:12:05,830 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007b5d8bb441a2cf5823e, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05646199965849519>]>", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,831 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,831 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0002109999768435955}
2025-09-21 22:12:05,831 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "command": "{\"getMore\": 7577649658689740486, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"uWOz/Sm4RUqXOUGY+7TdqQ==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1023129506, "operationId": 1023129506, "driverConnectionId": 1, "serverConnectionId": 2364572, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,866 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "durationMS": 35.374, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1023129506, "operationId": 1023129506, "driverConnectionId": 1, "serverConnectionId": 2364572, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:12:05,867 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007b5d8bb441a2cf5823e"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:50212 - "GET /api/v1/positions?accounts=901203963&accounts=901208017&accounts=901208110&accounts=901210166 HTTP/1.1" 200 OK
2025-09-21 22:12:05,891 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:12:05,891 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:13:02,135 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:13:02,135 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:13:02,136 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:13:02,136 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:13:02,136 INFO sqlalchemy.engine.Engine [cached since 491.2s ago] (1, 1, 0)
2025-09-21 22:13:02,136 - sqlalchemy.engine.Engine - INFO - [cached since 491.2s ago] (1, 1, 0)
2025-09-21 22:13:02,137 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:13:02,137 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:13:02,138 INFO sqlalchemy.engine.Engine [cached since 491.2s ago] ()
2025-09-21 22:13:02,138 - sqlalchemy.engine.Engine - INFO - [cached since 491.2s ago] ()
2025-09-21 22:13:02,139 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:13:02,139 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:13:02,139 INFO sqlalchemy.engine.Engine [cached since 70.44s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:13:02,139 - sqlalchemy.engine.Engine - INFO - [cached since 70.44s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:13:02,142 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:13:02,142 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:13:02,143 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:13:02,143 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:13:02,143 INFO sqlalchemy.engine.Engine [cached since 491.2s ago] (1, 1, 0)
2025-09-21 22:13:02,143 - sqlalchemy.engine.Engine - INFO - [cached since 491.2s ago] (1, 1, 0)
2025-09-21 22:13:02,144 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d007eed8bb441a2cf5823f"}}
2025-09-21 22:13:02,145 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:13:02,145 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007eed8bb441a2cf5823f"}, "previousDescription": "<TopologyDescription id: 68d007eed8bb441a2cf5823f, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d007eed8bb441a2cf5823f, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:13:02,145 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:13:02,145 INFO sqlalchemy.engine.Engine [cached since 491.2s ago] ()
2025-09-21 22:13:02,145 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,145 - sqlalchemy.engine.Engine - INFO - [cached since 491.2s ago] ()
2025-09-21 22:13:02,146 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,147 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:13:02,147 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:13:02,148 INFO sqlalchemy.engine.Engine [cached since 70.45s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:13:02,148 - sqlalchemy.engine.Engine - INFO - [cached since 70.45s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:13:02,147 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007eed8bb441a2cf5823f, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}}
2025-09-21 22:13:02,148 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007eed8bb441a2cf5823f, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "remainingTimeMS": 4999}
2025-09-21 22:13:02,150 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d007eed8bb441a2cf58240"}}
2025-09-21 22:13:02,150 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007eed8bb441a2cf58240"}, "previousDescription": "<TopologyDescription id: 68d007eed8bb441a2cf58240, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d007eed8bb441a2cf58240, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:13:02,150 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,151 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,152 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007eed8bb441a2cf58240, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}}
2025-09-21 22:13:02,153 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007eed8bb441a2cf58240, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "remainingTimeMS": 4999}
2025-09-21 22:13:02,153 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007eed8bb441a2cf5823f"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:13:02,156 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007eed8bb441a2cf58240"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:13:02,215 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d007eed8bb441a2cf58240"}, "driverConnectionId": 1, "serverConnectionId": 2364574, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 59.226333163678646, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:13:02.363Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364574, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:13:02,216 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,216 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007eed8bb441a2cf58240"}, "previousDescription": "<TopologyDescription id: 68d007eed8bb441a2cf58240, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d007eed8bb441a2cf58240, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059226333163678646>]>"}
2025-09-21 22:13:02,216 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d007eed8bb441a2cf5823f"}, "driverConnectionId": 1, "serverConnectionId": 2364573, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 62.63195816427469, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:13:02.361Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364573, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:13:02,217 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007eed8bb441a2cf58240, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059226333163678646>]>", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,217 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,218 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d007eed8bb441a2cf5823f"}, "previousDescription": "<TopologyDescription id: 68d007eed8bb441a2cf5823f, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d007eed8bb441a2cf5823f, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06263195816427469>]>"}
2025-09-21 22:13:02,217 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007eed8bb441a2cf58240"}, "driverConnectionId": 1, "serverConnectionId": 2364574, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:13:02,218 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,220 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:13:02,219 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d007eed8bb441a2cf5823f"}, "driverConnectionId": 1, "serverConnectionId": 2364573, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:13:02,218 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007eed8bb441a2cf5823f, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06263195816427469>]>", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,221 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,221 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:13:02,318 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09233937505632639}
2025-09-21 22:13:02,318 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10044845892116427}
2025-09-21 22:13:02,319 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "command": "{\"find\": \"account\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Q0qsQFPGSpWAUDjIYg0Wow==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 197941363, "operationId": 197941363, "driverConnectionId": 1, "serverConnectionId": 2364575, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,332 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.1043911250308156}
2025-09-21 22:13:02,332 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.11115291714668274}
2025-09-21 22:13:02,333 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "command": "{\"find\": \"account\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"U3OK3GW+Q/mqOpIjXdkF4Q==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 348318738, "operationId": 348318738, "driverConnectionId": 1, "serverConnectionId": 2364578, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,348 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "durationMS": 29.489, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6621347d6cc2a08113724e66\"}, \"accountid\": \"901203963\", \"available\": 3998148.9605662003, \"balance\": 5028412.860566201, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 1030263.9000000004, \"updatetime\": \"2025-09-20 02:43:45\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db92\"}, \"accountid\": \"901208017\", \"available\": 6085039.4047703, \"balance\": 7588920.8547703, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208017\", \"margin\": 1503881.4500000002, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db93\"}, \"accountid\": \"901208110\", \"available\": 4582377.926748, \"balance\": 5727884.176748, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208110\", \"margin\": 1145506.25, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"6621347d6cc2a08113724e67\"}, \"accountid\": \"901210166\", \"available\": 72492.18000000001, \"balance\": 72492.18000000001, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901210166\", \"updatetim...", "commandName": "find", "databaseName": "VALAR", "requestId": 197941363, "operationId": 197941363, "driverConnectionId": 1, "serverConnectionId": 2364575, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,349 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:13:02,350 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007eed8bb441a2cf58240, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059226333163678646>]>", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}}
2025-09-21 22:13:02,351 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007eed8bb441a2cf58240, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059226333163678646>]>", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,351 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,351 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0001522083766758442}
2025-09-21 22:13:02,351 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Q0qsQFPGSpWAUDjIYg0Wow==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 152607844, "operationId": 152607844, "driverConnectionId": 1, "serverConnectionId": 2364575, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,365 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "durationMS": 32.461, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6621347d6cc2a08113724e66\"}, \"accountid\": \"901203963\", \"available\": 3998148.9605662003, \"balance\": 5028412.860566201, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 1030263.9000000004, \"updatetime\": \"2025-09-20 02:43:45\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db92\"}, \"accountid\": \"901208017\", \"available\": 6085039.4047703, \"balance\": 7588920.8547703, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208017\", \"margin\": 1503881.4500000002, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db93\"}, \"accountid\": \"901208110\", \"available\": 4582377.926748, \"balance\": 5727884.176748, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208110\", \"margin\": 1145506.25, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"6621347d6cc2a08113724e67\"}, \"accountid\": \"901210166\", \"available\": 72492.18000000001, \"balance\": 72492.18000000001, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901210166\", \"updatetim...", "commandName": "find", "databaseName": "VALAR", "requestId": 348318738, "operationId": 348318738, "driverConnectionId": 1, "serverConnectionId": 2364578, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,366 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:13:02,367 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007eed8bb441a2cf5823f, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06263195816427469>]>", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}}
2025-09-21 22:13:02,367 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d007eed8bb441a2cf5823f, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06263195816427469>]>", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,367 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,368 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.00023729214444756508}
2025-09-21 22:13:02,368 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"U3OK3GW+Q/mqOpIjXdkF4Q==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 784559590, "operationId": 784559590, "driverConnectionId": 1, "serverConnectionId": 2364578, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,422 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "durationMS": 70.753, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 152607844, "operationId": 152607844, "driverConnectionId": 1, "serverConnectionId": 2364575, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,423 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:13:02,424 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007eed8bb441a2cf58240, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059226333163678646>]>", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}}
2025-09-21 22:13:02,424 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007eed8bb441a2cf58240, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059226333163678646>]>", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,424 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,424 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 9.187497198581696e-05}
2025-09-21 22:13:02,424 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "command": "{\"getMore\": 2505818026261347261, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Q0qsQFPGSpWAUDjIYg0Wow==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 543436550, "operationId": 543436550, "driverConnectionId": 1, "serverConnectionId": 2364575, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,437 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "durationMS": 69.365, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 784559590, "operationId": 784559590, "driverConnectionId": 1, "serverConnectionId": 2364578, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,438 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:13:02,438 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007eed8bb441a2cf5823f, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06263195816427469>]>", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}}
2025-09-21 22:13:02,438 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d007eed8bb441a2cf5823f, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06263195816427469>]>", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,439 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,439 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0001038750633597374}
2025-09-21 22:13:02,439 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "command": "{\"getMore\": 3505050756363972565, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"U3OK3GW+Q/mqOpIjXdkF4Q==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 290145159, "operationId": 290145159, "driverConnectionId": 1, "serverConnectionId": 2364578, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,454 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "durationMS": 29.895000000000003, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 543436550, "operationId": 543436550, "driverConnectionId": 1, "serverConnectionId": 2364575, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,455 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007eed8bb441a2cf58240"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:50353 - "GET /api/v1/dashboard/accounts HTTP/1.1" 200 OK
2025-09-21 22:13:02,462 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:13:02,462 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:13:02,472 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "durationMS": 33.048, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 290145159, "operationId": 290145159, "driverConnectionId": 1, "serverConnectionId": 2364578, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:13:02,472 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d007eed8bb441a2cf5823f"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:50352 - "GET /api/v1/dashboard/summary HTTP/1.1" 200 OK
2025-09-21 22:13:02,479 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:13:02,479 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:15:47,756 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:15:47,756 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:15:47,756 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:47,756 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:47,756 INFO sqlalchemy.engine.Engine [cached since 656.9s ago] (1, 1, 0)
2025-09-21 22:15:47,756 - sqlalchemy.engine.Engine - INFO - [cached since 656.9s ago] (1, 1, 0)
2025-09-21 22:15:47,757 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:47,757 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:47,757 INFO sqlalchemy.engine.Engine [cached since 656.9s ago] ()
2025-09-21 22:15:47,757 - sqlalchemy.engine.Engine - INFO - [cached since 656.9s ago] ()
2025-09-21 22:15:47,758 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d00893d8bb441a2cf58241"}}
2025-09-21 22:15:47,758 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00893d8bb441a2cf58241"}, "previousDescription": "<TopologyDescription id: 68d00893d8bb441a2cf58241, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d00893d8bb441a2cf58241, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:15:47,758 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d00893d8bb441a2cf58241"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:47,759 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:47,759 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00893d8bb441a2cf58241, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}}
2025-09-21 22:15:47,760 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00893d8bb441a2cf58241, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "remainingTimeMS": 4999}
2025-09-21 22:15:47,762 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00893d8bb441a2cf58241"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:15:47,825 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d00893d8bb441a2cf58241"}, "driverConnectionId": 1, "serverConnectionId": 2364579, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 63.14058322459459, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:15:47.969Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364579, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:15:47,826 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:47,826 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00893d8bb441a2cf58241"}, "previousDescription": "<TopologyDescription id: 68d00893d8bb441a2cf58241, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d00893d8bb441a2cf58241, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06314058322459459>]>"}
2025-09-21 22:15:47,827 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00893d8bb441a2cf58241, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06314058322459459>]>", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:47,827 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:47,827 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00893d8bb441a2cf58241"}, "driverConnectionId": 1, "serverConnectionId": 2364579, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:15:47,827 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:47,917 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.08621966699138284}
2025-09-21 22:15:47,917 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.08988554170355201}
2025-09-21 22:15:47,917 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"T9nW1EQXTXiKZg0qLHoWdg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 2000755539, "operationId": 2000755539, "driverConnectionId": 1, "serverConnectionId": 2364580, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:47,976 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "durationMS": 58.757999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 2000755539, "operationId": 2000755539, "driverConnectionId": 1, "serverConnectionId": 2364580, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:47,977 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:47,977 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d00893d8bb441a2cf58241, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06314058322459459>]>", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}}
2025-09-21 22:15:47,977 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d00893d8bb441a2cf58241, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06314058322459459>]>", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:47,977 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:47,977 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 4.691723734140396e-05}
2025-09-21 22:15:47,977 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "command": "{\"getMore\": 5386499453194499136, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"T9nW1EQXTXiKZg0qLHoWdg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1399399247, "operationId": 1399399247, "driverConnectionId": 1, "serverConnectionId": 2364580, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:48,004 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "durationMS": 26.334, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1399399247, "operationId": 1399399247, "driverConnectionId": 1, "serverConnectionId": 2364580, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:48,004 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00893d8bb441a2cf58241"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:50757 - "GET /api/v1/positions?accounts=901203963&accounts=901208017&accounts=901208110 HTTP/1.1" 200 OK
2025-09-21 22:15:48,021 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:15:48,021 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:15:49,184 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:15:49,184 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:15:49,184 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:49,184 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:49,184 INFO sqlalchemy.engine.Engine [cached since 658.3s ago] (1, 1, 0)
2025-09-21 22:15:49,184 - sqlalchemy.engine.Engine - INFO - [cached since 658.3s ago] (1, 1, 0)
2025-09-21 22:15:49,186 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:49,186 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:49,186 INFO sqlalchemy.engine.Engine [cached since 658.3s ago] ()
2025-09-21 22:15:49,186 - sqlalchemy.engine.Engine - INFO - [cached since 658.3s ago] ()
2025-09-21 22:15:49,187 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d00895d8bb441a2cf58242"}}
2025-09-21 22:15:49,187 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00895d8bb441a2cf58242"}, "previousDescription": "<TopologyDescription id: 68d00895d8bb441a2cf58242, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d00895d8bb441a2cf58242, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:15:49,187 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d00895d8bb441a2cf58242"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:49,188 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:49,189 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00895d8bb441a2cf58242, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}}
2025-09-21 22:15:49,189 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00895d8bb441a2cf58242, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "remainingTimeMS": 4999}
2025-09-21 22:15:49,190 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00895d8bb441a2cf58242"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:15:49,258 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d00895d8bb441a2cf58242"}, "driverConnectionId": 1, "serverConnectionId": 2364582, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 67.22291698679328, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:15:49.402Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364582, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:15:49,258 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:49,258 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00895d8bb441a2cf58242"}, "previousDescription": "<TopologyDescription id: 68d00895d8bb441a2cf58242, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d00895d8bb441a2cf58242, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06722291698679328>]>"}
2025-09-21 22:15:49,259 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00895d8bb441a2cf58242, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06722291698679328>]>", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:49,260 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:49,260 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00895d8bb441a2cf58242"}, "driverConnectionId": 1, "serverConnectionId": 2364582, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:15:49,260 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:49,359 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09330100007355213}
2025-09-21 22:15:49,359 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09886312484741211}
2025-09-21 22:15:49,359 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8+gWKzkzQWKpmeImXEfK3g==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1012028144, "operationId": 1012028144, "driverConnectionId": 1, "serverConnectionId": 2364584, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:49,422 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "durationMS": 62.885, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 1012028144, "operationId": 1012028144, "driverConnectionId": 1, "serverConnectionId": 2364584, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:49,423 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:49,423 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d00895d8bb441a2cf58242, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06722291698679328>]>", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}}
2025-09-21 22:15:49,424 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d00895d8bb441a2cf58242, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06722291698679328>]>", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:49,424 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:49,424 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.00014725001528859138}
2025-09-21 22:15:49,425 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "command": "{\"getMore\": 6214543994435830926, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8+gWKzkzQWKpmeImXEfK3g==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1086531968, "operationId": 1086531968, "driverConnectionId": 1, "serverConnectionId": 2364584, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:49,455 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "durationMS": 30.072000000000003, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1086531968, "operationId": 1086531968, "driverConnectionId": 1, "serverConnectionId": 2364584, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:49,456 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00895d8bb441a2cf58242"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:50767 - "GET /api/v1/positions?accounts=901203963&accounts=901208017&accounts=901208110&accounts=901210166 HTTP/1.1" 200 OK
2025-09-21 22:15:49,475 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:15:49,475 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:15:50,620 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:15:50,620 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:15:50,621 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:50,621 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:50,621 INFO sqlalchemy.engine.Engine [cached since 659.7s ago] (1, 1, 0)
2025-09-21 22:15:50,621 - sqlalchemy.engine.Engine - INFO - [cached since 659.7s ago] (1, 1, 0)
2025-09-21 22:15:50,621 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:50,621 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:50,621 INFO sqlalchemy.engine.Engine [cached since 659.7s ago] ()
2025-09-21 22:15:50,621 - sqlalchemy.engine.Engine - INFO - [cached since 659.7s ago] ()
2025-09-21 22:15:50,622 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d00896d8bb441a2cf58243"}}
2025-09-21 22:15:50,623 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00896d8bb441a2cf58243"}, "previousDescription": "<TopologyDescription id: 68d00896d8bb441a2cf58243, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d00896d8bb441a2cf58243, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:15:50,623 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d00896d8bb441a2cf58243"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:50,623 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d00896d8bb441a2cf58243"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:50,624 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00896d8bb441a2cf58243, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00896d8bb441a2cf58243"}}
2025-09-21 22:15:50,625 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00896d8bb441a2cf58243, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00896d8bb441a2cf58243"}, "remainingTimeMS": 4999}
2025-09-21 22:15:50,626 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00896d8bb441a2cf58243"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:15:50,685 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d00896d8bb441a2cf58243"}, "driverConnectionId": 1, "serverConnectionId": 2364585, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 59.18545927852392, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:15:50.830Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364585, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:15:50,686 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d00896d8bb441a2cf58243"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:50,686 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00896d8bb441a2cf58243"}, "previousDescription": "<TopologyDescription id: 68d00896d8bb441a2cf58243, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d00896d8bb441a2cf58243, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05918545927852392>]>"}
2025-09-21 22:15:50,687 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00896d8bb441a2cf58243, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05918545927852392>]>", "clientId": {"$oid": "68d00896d8bb441a2cf58243"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:50,687 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00896d8bb441a2cf58243"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:50,688 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d00896d8bb441a2cf58243"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:50,688 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00896d8bb441a2cf58243"}, "driverConnectionId": 1, "serverConnectionId": 2364585, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:15:50,793 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d00896d8bb441a2cf58243"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10169849963858724}
2025-09-21 22:15:50,793 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00896d8bb441a2cf58243"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10572837525978684}
2025-09-21 22:15:50,793 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00896d8bb441a2cf58243"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"IbKfRaiPRFO/T705UupIyA==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1358796011, "operationId": 1358796011, "driverConnectionId": 1, "serverConnectionId": 2364587, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:50,862 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00896d8bb441a2cf58243"}, "durationMS": 69.361, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 1358796011, "operationId": 1358796011, "driverConnectionId": 1, "serverConnectionId": 2364587, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:50,863 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00896d8bb441a2cf58243"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:50779 - "GET /api/v1/positions?accounts=901203963&accounts=901208017&accounts=901210166 HTTP/1.1" 200 OK
2025-09-21 22:15:50,880 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:15:50,880 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:15:52,256 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:15:52,256 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:15:52,256 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:52,256 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:52,257 INFO sqlalchemy.engine.Engine [cached since 661.4s ago] (1, 1, 0)
2025-09-21 22:15:52,257 - sqlalchemy.engine.Engine - INFO - [cached since 661.4s ago] (1, 1, 0)
2025-09-21 22:15:52,258 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:52,258 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:52,258 INFO sqlalchemy.engine.Engine [cached since 661.4s ago] ()
2025-09-21 22:15:52,258 - sqlalchemy.engine.Engine - INFO - [cached since 661.4s ago] ()
2025-09-21 22:15:52,259 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d00898d8bb441a2cf58244"}}
2025-09-21 22:15:52,259 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00898d8bb441a2cf58244"}, "previousDescription": "<TopologyDescription id: 68d00898d8bb441a2cf58244, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d00898d8bb441a2cf58244, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:15:52,259 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d00898d8bb441a2cf58244"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:52,259 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:52,260 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00898d8bb441a2cf58244, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}}
2025-09-21 22:15:52,261 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00898d8bb441a2cf58244, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "remainingTimeMS": 4999}
2025-09-21 22:15:52,262 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00898d8bb441a2cf58244"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:15:52,314 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d00898d8bb441a2cf58244"}, "driverConnectionId": 1, "serverConnectionId": 2364588, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 52.486666943877935, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:15:52.463Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364588, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:15:52,315 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:52,315 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d00898d8bb441a2cf58244"}, "previousDescription": "<TopologyDescription id: 68d00898d8bb441a2cf58244, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d00898d8bb441a2cf58244, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.052486666943877935>]>"}
2025-09-21 22:15:52,315 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d00898d8bb441a2cf58244, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.052486666943877935>]>", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:52,315 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:52,316 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d00898d8bb441a2cf58244"}, "driverConnectionId": 1, "serverConnectionId": 2364588, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:15:52,316 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:52,406 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.08799945935606956}
2025-09-21 22:15:52,407 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09111374989151955}
2025-09-21 22:15:52,407 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901210166\", \"901208110\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"l5JpZot0QUiE4WZXtEKaig==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 2049590396, "operationId": 2049590396, "driverConnectionId": 1, "serverConnectionId": 2364589, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:52,467 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "durationMS": 60.337, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 2049590396, "operationId": 2049590396, "driverConnectionId": 1, "serverConnectionId": 2364589, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:52,468 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:52,469 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d00898d8bb441a2cf58244, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.052486666943877935>]>", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}}
2025-09-21 22:15:52,469 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d00898d8bb441a2cf58244, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.052486666943877935>]>", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:52,469 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:52,469 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 8.037500083446503e-05}
2025-09-21 22:15:52,469 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "command": "{\"getMore\": 8280106958766043391, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"l5JpZot0QUiE4WZXtEKaig==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1828087692, "operationId": 1828087692, "driverConnectionId": 1, "serverConnectionId": 2364589, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:52,498 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "durationMS": 28.772, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1828087692, "operationId": 1828087692, "driverConnectionId": 1, "serverConnectionId": 2364589, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:52,499 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d00898d8bb441a2cf58244"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:50790 - "GET /api/v1/positions?accounts=901203963&accounts=901208017&accounts=901210166&accounts=901208110 HTTP/1.1" 200 OK
2025-09-21 22:15:52,517 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:15:52,517 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:15:56,903 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:15:56,903 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:15:56,903 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:56,903 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:56,903 INFO sqlalchemy.engine.Engine [cached since 666s ago] (1, 1, 0)
2025-09-21 22:15:56,903 - sqlalchemy.engine.Engine - INFO - [cached since 666s ago] (1, 1, 0)
2025-09-21 22:15:56,904 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:56,904 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:56,904 INFO sqlalchemy.engine.Engine [cached since 666s ago] ()
2025-09-21 22:15:56,904 - sqlalchemy.engine.Engine - INFO - [cached since 666s ago] ()
2025-09-21 22:15:56,905 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d0089cd8bb441a2cf58245"}}
2025-09-21 22:15:56,906 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0089cd8bb441a2cf58245"}, "previousDescription": "<TopologyDescription id: 68d0089cd8bb441a2cf58245, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d0089cd8bb441a2cf58245, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:15:56,906 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d0089cd8bb441a2cf58245"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:56,906 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d0089cd8bb441a2cf58245"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:56,908 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089cd8bb441a2cf58245, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0089cd8bb441a2cf58245"}}
2025-09-21 22:15:56,908 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089cd8bb441a2cf58245, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0089cd8bb441a2cf58245"}, "remainingTimeMS": 4999}
2025-09-21 22:15:56,910 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0089cd8bb441a2cf58245"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:15:56,976 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d0089cd8bb441a2cf58245"}, "driverConnectionId": 1, "serverConnectionId": 2364591, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 66.06408301740885, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:15:57.121Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364591, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:15:56,977 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d0089cd8bb441a2cf58245"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:56,977 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0089cd8bb441a2cf58245"}, "previousDescription": "<TopologyDescription id: 68d0089cd8bb441a2cf58245, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d0089cd8bb441a2cf58245, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06606408301740885>]>"}
2025-09-21 22:15:56,977 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089cd8bb441a2cf58245, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06606408301740885>]>", "clientId": {"$oid": "68d0089cd8bb441a2cf58245"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:56,978 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0089cd8bb441a2cf58245"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:56,978 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d0089cd8bb441a2cf58245"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:56,978 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0089cd8bb441a2cf58245"}, "driverConnectionId": 1, "serverConnectionId": 2364591, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:15:57,071 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d0089cd8bb441a2cf58245"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09197070775553584}
2025-09-21 22:15:57,072 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0089cd8bb441a2cf58245"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09408037504181266}
2025-09-21 22:15:57,072 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0089cd8bb441a2cf58245"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"SQdrJ6uySi+d/b6+3uZlXA==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1238489553, "operationId": 1238489553, "driverConnectionId": 1, "serverConnectionId": 2364593, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:57,102 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0089cd8bb441a2cf58245"}, "durationMS": 30.255, "reply": "{\"cursor\": {\"ns\": \"VALAR.position\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "VALAR", "requestId": 1238489553, "operationId": 1238489553, "driverConnectionId": 1, "serverConnectionId": 2364593, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:57,103 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0089cd8bb441a2cf58245"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:57,105 - app.services.valar_service - ERROR - Error getting positions: "None of [Index(['accountid', 'symbol', 'exchange', 'direction', 'float_pnl',\n       'current_price', 'open_price', 'volume', 'yd_volume', 'price', 'pnl',\n       'frozen', 'updatetime'],\n      dtype='object')] are in the [columns]"
INFO:     127.0.0.1:50808 - "GET /api/v1/positions?accounts=901210166 HTTP/1.1" 200 OK
2025-09-21 22:15:57,106 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:15:57,106 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:15:59,745 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:15:59,745 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:15:59,745 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:59,745 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:59,745 INFO sqlalchemy.engine.Engine [cached since 668.8s ago] (1, 1, 0)
2025-09-21 22:15:59,745 - sqlalchemy.engine.Engine - INFO - [cached since 668.8s ago] (1, 1, 0)
2025-09-21 22:15:59,747 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:59,747 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:59,747 INFO sqlalchemy.engine.Engine [cached since 668.8s ago] ()
2025-09-21 22:15:59,747 - sqlalchemy.engine.Engine - INFO - [cached since 668.8s ago] ()
2025-09-21 22:15:59,748 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:15:59,748 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:15:59,748 INFO sqlalchemy.engine.Engine [cached since 248.1s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:15:59,748 - sqlalchemy.engine.Engine - INFO - [cached since 248.1s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:15:59,751 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:15:59,751 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d0089fd8bb441a2cf58246"}}
2025-09-21 22:15:59,751 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:15:59,752 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:59,752 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0089fd8bb441a2cf58246"}, "previousDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58246, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58246, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:15:59,752 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,752 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:59,752 INFO sqlalchemy.engine.Engine [cached since 668.9s ago] (1, 1, 0)
2025-09-21 22:15:59,752 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,752 - sqlalchemy.engine.Engine - INFO - [cached since 668.9s ago] (1, 1, 0)
2025-09-21 22:15:59,753 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58246, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}}
2025-09-21 22:15:59,754 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58246, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "remainingTimeMS": 4999}
2025-09-21 22:15:59,754 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:59,754 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:59,754 INFO sqlalchemy.engine.Engine [cached since 668.9s ago] ()
2025-09-21 22:15:59,754 - sqlalchemy.engine.Engine - INFO - [cached since 668.9s ago] ()
2025-09-21 22:15:59,755 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:15:59,755 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:15:59,756 INFO sqlalchemy.engine.Engine [cached since 248.1s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:15:59,756 - sqlalchemy.engine.Engine - INFO - [cached since 248.1s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:15:59,756 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0089fd8bb441a2cf58246"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:15:59,759 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d0089fd8bb441a2cf58247"}}
2025-09-21 22:15:59,759 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0089fd8bb441a2cf58247"}, "previousDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58247, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58247, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:15:59,760 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,760 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,761 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:15:59,761 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:15:59,762 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:59,762 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:59,762 INFO sqlalchemy.engine.Engine [cached since 668.9s ago] (1, 1, 0)
2025-09-21 22:15:59,762 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58247, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}}
2025-09-21 22:15:59,762 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58247, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "remainingTimeMS": 4999}
2025-09-21 22:15:59,762 - sqlalchemy.engine.Engine - INFO - [cached since 668.9s ago] (1, 1, 0)
2025-09-21 22:15:59,763 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:59,763 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0089fd8bb441a2cf58247"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:15:59,763 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:59,764 INFO sqlalchemy.engine.Engine [cached since 668.9s ago] ()
2025-09-21 22:15:59,764 - sqlalchemy.engine.Engine - INFO - [cached since 668.9s ago] ()
2025-09-21 22:15:59,766 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:15:59,766 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:15:59,766 INFO sqlalchemy.engine.Engine [cached since 248.1s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:15:59,766 - sqlalchemy.engine.Engine - INFO - [cached since 248.1s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:15:59,768 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:15:59,768 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d0089fd8bb441a2cf58248"}}
2025-09-21 22:15:59,768 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:15:59,769 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:59,769 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0089fd8bb441a2cf58248"}, "previousDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58248, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58248, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:15:59,769 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:15:59,769 INFO sqlalchemy.engine.Engine [cached since 668.9s ago] (1, 1, 0)
2025-09-21 22:15:59,769 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,769 - sqlalchemy.engine.Engine - INFO - [cached since 668.9s ago] (1, 1, 0)
2025-09-21 22:15:59,770 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,770 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58248, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}}
2025-09-21 22:15:59,770 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:59,770 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:15:59,770 INFO sqlalchemy.engine.Engine [cached since 668.9s ago] ()
2025-09-21 22:15:59,770 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58248, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "remainingTimeMS": 4999}
2025-09-21 22:15:59,770 - sqlalchemy.engine.Engine - INFO - [cached since 668.9s ago] ()
2025-09-21 22:15:59,771 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:15:59,771 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:15:59,771 INFO sqlalchemy.engine.Engine [cached since 248.1s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:15:59,771 - sqlalchemy.engine.Engine - INFO - [cached since 248.1s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:15:59,771 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0089fd8bb441a2cf58248"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:15:59,771 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d0089fd8bb441a2cf58249"}}
2025-09-21 22:15:59,772 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0089fd8bb441a2cf58249"}, "previousDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58249, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58249, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:15:59,772 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,772 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,772 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58249, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}}
2025-09-21 22:15:59,772 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58249, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "remainingTimeMS": 4999}
2025-09-21 22:15:59,773 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0089fd8bb441a2cf58249"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:15:59,811 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d0089fd8bb441a2cf58246"}, "driverConnectionId": 1, "serverConnectionId": 2364594, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 54.83816610649228, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:15:59.958Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364594, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:15:59,812 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,812 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0089fd8bb441a2cf58246"}, "previousDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58246, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58246, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05483816610649228>]>"}
2025-09-21 22:15:59,812 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58246, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05483816610649228>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,813 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,813 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0089fd8bb441a2cf58246"}, "driverConnectionId": 1, "serverConnectionId": 2364594, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:15:59,813 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:59,824 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d0089fd8bb441a2cf58247"}, "driverConnectionId": 1, "serverConnectionId": 2364595, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 60.49695843830705, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:15:59.969Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364595, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:15:59,825 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,825 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0089fd8bb441a2cf58247"}, "previousDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58247, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58247, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06049695843830705>]>"}
2025-09-21 22:15:59,825 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58247, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06049695843830705>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,825 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,825 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0089fd8bb441a2cf58247"}, "driverConnectionId": 1, "serverConnectionId": 2364595, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:15:59,826 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:59,830 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d0089fd8bb441a2cf58249"}, "driverConnectionId": 1, "serverConnectionId": 2364597, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 57.05154221504927, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:15:59.974Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364597, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:15:59,831 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,831 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0089fd8bb441a2cf58249"}, "previousDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58249, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58249, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05705154221504927>]>"}
2025-09-21 22:15:59,832 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d0089fd8bb441a2cf58248"}, "driverConnectionId": 1, "serverConnectionId": 2364596, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 60.717207845300436, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:15:59.974Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364596, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:15:59,832 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58249, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05705154221504927>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,833 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,833 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0089fd8bb441a2cf58249"}, "driverConnectionId": 1, "serverConnectionId": 2364597, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:15:59,833 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,833 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d0089fd8bb441a2cf58248"}, "previousDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58248, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58248, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.060717207845300436>]>"}
2025-09-21 22:15:59,833 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:59,834 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58248, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.060717207845300436>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,834 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,835 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:59,835 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d0089fd8bb441a2cf58248"}, "driverConnectionId": 1, "serverConnectionId": 2364596, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:15:59,923 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10635995818302035}
2025-09-21 22:15:59,924 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.11094220774248242}
2025-09-21 22:15:59,924 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "command": "{\"find\": \"account\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Nrw1QVxkThCQdmZkNbhy/Q==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1911300560, "operationId": 1911300560, "driverConnectionId": 1, "serverConnectionId": 2364599, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,931 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0918040000833571}
2025-09-21 22:15:59,931 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0981300831772387}
2025-09-21 22:15:59,931 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "command": "{\"find\": \"account\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"prW9zsBDQpKZsqCfE3en1Q==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1168120094, "operationId": 1168120094, "driverConnectionId": 1, "serverConnectionId": 2364602, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,932 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0932590002194047}
2025-09-21 22:15:59,933 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09840154182165861}
2025-09-21 22:15:59,933 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "command": "{\"find\": \"account\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Y+JsYEWZTi2UQooYKQxuKg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 298918984, "operationId": 298918984, "driverConnectionId": 1, "serverConnectionId": 2364605, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,933 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10545262461528182}
2025-09-21 22:15:59,934 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10826670890673995}
2025-09-21 22:15:59,934 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "command": "{\"find\": \"account\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u/0Dp4H4QjGzieAZ1yjtyg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 967113755, "operationId": 967113755, "driverConnectionId": 1, "serverConnectionId": 2364601, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,957 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "durationMS": 32.894, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6621347d6cc2a08113724e66\"}, \"accountid\": \"901203963\", \"available\": 3998148.9605662003, \"balance\": 5028412.860566201, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 1030263.9000000004, \"updatetime\": \"2025-09-20 02:43:45\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db92\"}, \"accountid\": \"901208017\", \"available\": 6085039.4047703, \"balance\": 7588920.8547703, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208017\", \"margin\": 1503881.4500000002, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db93\"}, \"accountid\": \"901208110\", \"available\": 4582377.926748, \"balance\": 5727884.176748, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208110\", \"margin\": 1145506.25, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"6621347d6cc2a08113724e67\"}, \"accountid\": \"901210166\", \"available\": 72492.18000000001, \"balance\": 72492.18000000001, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901210166\", \"updatetim...", "commandName": "find", "databaseName": "VALAR", "requestId": 1911300560, "operationId": 1911300560, "driverConnectionId": 1, "serverConnectionId": 2364599, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,957 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:59,959 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58246, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05483816610649228>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}}
2025-09-21 22:15:59,959 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58246, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05483816610649228>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,959 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "durationMS": 28.288, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6621347d6cc2a08113724e66\"}, \"accountid\": \"901203963\", \"available\": 3998148.9605662003, \"balance\": 5028412.860566201, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 1030263.9000000004, \"updatetime\": \"2025-09-20 02:43:45\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db92\"}, \"accountid\": \"901208017\", \"available\": 6085039.4047703, \"balance\": 7588920.8547703, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208017\", \"margin\": 1503881.4500000002, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db93\"}, \"accountid\": \"901208110\", \"available\": 4582377.926748, \"balance\": 5727884.176748, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208110\", \"margin\": 1145506.25, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"6621347d6cc2a08113724e67\"}, \"accountid\": \"901210166\", \"available\": 72492.18000000001, \"balance\": 72492.18000000001, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901210166\", \"updatetim...", "commandName": "find", "databaseName": "VALAR", "requestId": 1168120094, "operationId": 1168120094, "driverConnectionId": 1, "serverConnectionId": 2364602, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,959 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,960 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:59,960 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0007209577597677708}
2025-09-21 22:15:59,961 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58249, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05705154221504927>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}}
2025-09-21 22:15:59,961 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Nrw1QVxkThCQdmZkNbhy/Q==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 2124639789, "operationId": 2124639789, "driverConnectionId": 1, "serverConnectionId": 2364599, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,962 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58249, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05705154221504927>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,962 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "durationMS": 28.965, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6621347d6cc2a08113724e66\"}, \"accountid\": \"901203963\", \"available\": 3998148.9605662003, \"balance\": 5028412.860566201, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 1030263.9000000004, \"updatetime\": \"2025-09-20 02:43:45\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db92\"}, \"accountid\": \"901208017\", \"available\": 6085039.4047703, \"balance\": 7588920.8547703, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208017\", \"margin\": 1503881.4500000002, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db93\"}, \"accountid\": \"901208110\", \"available\": 4582377.926748, \"balance\": 5727884.176748, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208110\", \"margin\": 1145506.25, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"6621347d6cc2a08113724e67\"}, \"accountid\": \"901210166\", \"available\": 72492.18000000001, \"balance\": 72492.18000000001, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901210166\", \"updatetim...", "commandName": "find", "databaseName": "VALAR", "requestId": 298918984, "operationId": 298918984, "driverConnectionId": 1, "serverConnectionId": 2364605, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,962 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,962 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:59,962 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0004121246747672558}
2025-09-21 22:15:59,963 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58248, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.060717207845300436>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}}
2025-09-21 22:15:59,964 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"prW9zsBDQpKZsqCfE3en1Q==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 462851407, "operationId": 462851407, "driverConnectionId": 1, "serverConnectionId": 2364602, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,964 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58248, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.060717207845300436>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,964 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,964 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 9.058322757482529e-05}
2025-09-21 22:15:59,964 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Y+JsYEWZTi2UQooYKQxuKg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 957828015, "operationId": 957828015, "driverConnectionId": 1, "serverConnectionId": 2364605, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,965 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "durationMS": 31.645, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6621347d6cc2a08113724e66\"}, \"accountid\": \"901203963\", \"available\": 3998148.9605662003, \"balance\": 5028412.860566201, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 1030263.9000000004, \"updatetime\": \"2025-09-20 02:43:45\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db92\"}, \"accountid\": \"901208017\", \"available\": 6085039.4047703, \"balance\": 7588920.8547703, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208017\", \"margin\": 1503881.4500000002, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db93\"}, \"accountid\": \"901208110\", \"available\": 4582377.926748, \"balance\": 5727884.176748, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208110\", \"margin\": 1145506.25, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"6621347d6cc2a08113724e67\"}, \"accountid\": \"901210166\", \"available\": 72492.18000000001, \"balance\": 72492.18000000001, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901210166\", \"updatetim...", "commandName": "find", "databaseName": "VALAR", "requestId": 967113755, "operationId": 967113755, "driverConnectionId": 1, "serverConnectionId": 2364601, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,966 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:15:59,966 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58247, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06049695843830705>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}}
2025-09-21 22:15:59,967 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58247, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06049695843830705>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,967 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:15:59,967 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 5.520787090063095e-05}
2025-09-21 22:15:59,967 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u/0Dp4H4QjGzieAZ1yjtyg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 678030193, "operationId": 678030193, "driverConnectionId": 1, "serverConnectionId": 2364601, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,036 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "durationMS": 71.306, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 957828015, "operationId": 957828015, "driverConnectionId": 1, "serverConnectionId": 2364605, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,036 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "durationMS": 72.816, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 462851407, "operationId": 462851407, "driverConnectionId": 1, "serverConnectionId": 2364602, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,036 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:00,037 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:00,037 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58248, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.060717207845300436>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}}
2025-09-21 22:16:00,039 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "durationMS": 78.008, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 2124639789, "operationId": 2124639789, "driverConnectionId": 1, "serverConnectionId": 2364599, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,040 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58249, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05705154221504927>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}}
2025-09-21 22:16:00,040 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58248, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.060717207845300436>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,041 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:00,042 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "durationMS": 74.862, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 678030193, "operationId": 678030193, "driverConnectionId": 1, "serverConnectionId": 2364601, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,042 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58249, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05705154221504927>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,042 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,042 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58246, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05483816610649228>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}}
2025-09-21 22:16:00,042 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:00,043 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,043 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.000985332764685154}
2025-09-21 22:16:00,043 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58246, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.05483816610649228>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,043 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58247, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06049695843830705>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}}
2025-09-21 22:16:00,043 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0006715836934745312}
2025-09-21 22:16:00,043 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "command": "{\"getMore\": 8977806889458725336, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Y+JsYEWZTi2UQooYKQxuKg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1105222769, "operationId": 1105222769, "driverConnectionId": 1, "serverConnectionId": 2364605, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,044 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,044 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d0089fd8bb441a2cf58247, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06049695843830705>]>", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,044 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "command": "{\"getMore\": 2202393871663487035, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"prW9zsBDQpKZsqCfE3en1Q==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1893015680, "operationId": 1893015680, "driverConnectionId": 1, "serverConnectionId": 2364602, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,044 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0005102497525513172}
2025-09-21 22:16:00,044 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,045 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "command": "{\"getMore\": 3565925257687306693, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Nrw1QVxkThCQdmZkNbhy/Q==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 944303455, "operationId": 944303455, "driverConnectionId": 1, "serverConnectionId": 2364599, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,045 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0006222911179065704}
2025-09-21 22:16:00,045 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "command": "{\"getMore\": 4053931240195285274, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u/0Dp4H4QjGzieAZ1yjtyg==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1004016855, "operationId": 1004016855, "driverConnectionId": 1, "serverConnectionId": 2364601, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,074 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "durationMS": 30.544999999999998, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1893015680, "operationId": 1893015680, "driverConnectionId": 1, "serverConnectionId": 2364602, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,075 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0089fd8bb441a2cf58249"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:00,076 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "durationMS": 32.442, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1105222769, "operationId": 1105222769, "driverConnectionId": 1, "serverConnectionId": 2364605, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:00,084 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0089fd8bb441a2cf58248"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:00,085 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "durationMS": 40.043, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1004016855, "operationId": 1004016855, "driverConnectionId": 1, "serverConnectionId": 2364601, "serverHost": "valar.site", "serverPort": 27088}
INFO:     127.0.0.1:50828 - "GET /api/v1/dashboard/summary HTTP/1.1" 200 OK
2025-09-21 22:16:00,092 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0089fd8bb441a2cf58247"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:00,087 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "durationMS": 42.42, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 944303455, "operationId": 944303455, "driverConnectionId": 1, "serverConnectionId": 2364599, "serverHost": "valar.site", "serverPort": 27088}
INFO:     127.0.0.1:50827 - "GET /api/v1/dashboard/accounts HTTP/1.1" 200 OK
2025-09-21 22:16:00,098 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d0089fd8bb441a2cf58246"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:00,098 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:16:00,098 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:50826 - "GET /api/v1/dashboard/accounts HTTP/1.1" 200 OK
2025-09-21 22:16:00,101 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:16:00,101 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:50825 - "GET /api/v1/dashboard/summary HTTP/1.1" 200 OK
2025-09-21 22:16:00,104 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:16:00,104 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:16:00,104 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:16:00,104 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:16:02,592 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:16:02,592 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:16:02,593 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:16:02,593 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:16:02,593 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (1, 1, 0)
2025-09-21 22:16:02,593 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (1, 1, 0)
2025-09-21 22:16:02,594 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:16:02,594 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:16:02,594 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] ()
2025-09-21 22:16:02,594 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] ()
2025-09-21 22:16:02,595 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:16:02,595 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:16:02,595 INFO sqlalchemy.engine.Engine [cached since 250.9s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:16:02,595 - sqlalchemy.engine.Engine - INFO - [cached since 250.9s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:16:02,596 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:16:02,596 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:16:02,597 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:16:02,597 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:16:02,597 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] (1, 1, 0)
2025-09-21 22:16:02,597 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] (1, 1, 0)
2025-09-21 22:16:02,597 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d008a2d8bb441a2cf5824a"}}
2025-09-21 22:16:02,598 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "previousDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824a, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824a, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:16:02,598 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:16:02,598 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,598 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:16:02,599 INFO sqlalchemy.engine.Engine [cached since 671.7s ago] ()
2025-09-21 22:16:02,599 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,599 - sqlalchemy.engine.Engine - INFO - [cached since 671.7s ago] ()
2025-09-21 22:16:02,600 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:16:02,600 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824a, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}}
2025-09-21 22:16:02,600 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824a, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "remainingTimeMS": 4999}
2025-09-21 22:16:02,600 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:16:02,600 INFO sqlalchemy.engine.Engine [cached since 250.9s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:16:02,600 - sqlalchemy.engine.Engine - INFO - [cached since 250.9s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:16:02,602 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:16:02,603 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d008a2d8bb441a2cf5824b"}}
2025-09-21 22:16:02,604 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "previousDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824b, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824b, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:16:02,604 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,604 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,605 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824b, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}}
2025-09-21 22:16:02,606 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824b, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "remainingTimeMS": 4999}
2025-09-21 22:16:02,607 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:16:02,663 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "driverConnectionId": 1, "serverConnectionId": 2364606, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 60.34545786678791, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:16:02.807Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364606, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:16:02,664 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,664 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "previousDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824a, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06034545786678791>]>"}
2025-09-21 22:16:02,664 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06034545786678791>]>", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,665 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,665 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:02,665 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "driverConnectionId": 1, "serverConnectionId": 2364606, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:16:02,667 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "driverConnectionId": 1, "serverConnectionId": 2364607, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 59.443249832838774, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:16:02.813Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364607, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:16:02,667 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,667 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "previousDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824b, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059443249832838774>]>"}
2025-09-21 22:16:02,668 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059443249832838774>]>", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,668 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,669 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:02,669 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "driverConnectionId": 1, "serverConnectionId": 2364607, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:16:02,754 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.07928341580554843}
2025-09-21 22:16:02,754 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.08589774975553155}
2025-09-21 22:16:02,755 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "command": "{\"find\": \"account\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"SMd94OTST8WTTUxk4sNDSw==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1561939997, "operationId": 1561939997, "driverConnectionId": 1, "serverConnectionId": 2364609, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,756 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0863397503271699}
2025-09-21 22:16:02,756 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09102920815348625}
2025-09-21 22:16:02,756 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "command": "{\"find\": \"account\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"cIdjE+eTTuqZ/+IGUX5TGQ==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 685428651, "operationId": 685428651, "driverConnectionId": 1, "serverConnectionId": 2364608, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,780 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "durationMS": 24.936, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6621347d6cc2a08113724e66\"}, \"accountid\": \"901203963\", \"available\": 3998148.9605662003, \"balance\": 5028412.860566201, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 1030263.9000000004, \"updatetime\": \"2025-09-20 02:43:45\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db92\"}, \"accountid\": \"901208017\", \"available\": 6085039.4047703, \"balance\": 7588920.8547703, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208017\", \"margin\": 1503881.4500000002, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db93\"}, \"accountid\": \"901208110\", \"available\": 4582377.926748, \"balance\": 5727884.176748, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208110\", \"margin\": 1145506.25, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"6621347d6cc2a08113724e67\"}, \"accountid\": \"901210166\", \"available\": 72492.18000000001, \"balance\": 72492.18000000001, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901210166\", \"updatetim...", "commandName": "find", "databaseName": "VALAR", "requestId": 1561939997, "operationId": 1561939997, "driverConnectionId": 1, "serverConnectionId": 2364609, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,780 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:02,781 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059443249832838774>]>", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}}
2025-09-21 22:16:02,781 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059443249832838774>]>", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,782 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,782 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.00011595804244279861}
2025-09-21 22:16:02,782 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"SMd94OTST8WTTUxk4sNDSw==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 897054849, "operationId": 897054849, "driverConnectionId": 1, "serverConnectionId": 2364609, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,782 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "durationMS": 26.432000000000002, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6621347d6cc2a08113724e66\"}, \"accountid\": \"901203963\", \"available\": 3998148.9605662003, \"balance\": 5028412.860566201, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 1030263.9000000004, \"updatetime\": \"2025-09-20 02:43:45\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db92\"}, \"accountid\": \"901208017\", \"available\": 6085039.4047703, \"balance\": 7588920.8547703, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208017\", \"margin\": 1503881.4500000002, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db93\"}, \"accountid\": \"901208110\", \"available\": 4582377.926748, \"balance\": 5727884.176748, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208110\", \"margin\": 1145506.25, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"6621347d6cc2a08113724e67\"}, \"accountid\": \"901210166\", \"available\": 72492.18000000001, \"balance\": 72492.18000000001, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901210166\", \"updatetim...", "commandName": "find", "databaseName": "VALAR", "requestId": 685428651, "operationId": 685428651, "driverConnectionId": 1, "serverConnectionId": 2364608, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,783 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:02,784 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06034545786678791>]>", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}}
2025-09-21 22:16:02,784 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06034545786678791>]>", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,784 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,785 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.0001216251403093338}
2025-09-21 22:16:02,785 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"cIdjE+eTTuqZ/+IGUX5TGQ==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 1465645203, "operationId": 1465645203, "driverConnectionId": 1, "serverConnectionId": 2364608, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,837 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "durationMS": 55.421, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 897054849, "operationId": 897054849, "driverConnectionId": 1, "serverConnectionId": 2364609, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,838 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:02,838 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059443249832838774>]>", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}}
2025-09-21 22:16:02,838 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824b, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.059443249832838774>]>", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,839 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,839 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 8.508330211043358e-05}
2025-09-21 22:16:02,839 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "command": "{\"getMore\": 3398957652754738275, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"SMd94OTST8WTTUxk4sNDSw==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1461495731, "operationId": 1461495731, "driverConnectionId": 1, "serverConnectionId": 2364609, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,845 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "durationMS": 60.634, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 1465645203, "operationId": 1465645203, "driverConnectionId": 1, "serverConnectionId": 2364608, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,846 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:02,846 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06034545786678791>]>", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}}
2025-09-21 22:16:02,847 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d008a2d8bb441a2cf5824a, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06034545786678791>]>", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,847 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,847 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.00010258331894874573}
2025-09-21 22:16:02,847 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "command": "{\"getMore\": 2325234364785523574, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"cIdjE+eTTuqZ/+IGUX5TGQ==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 440796531, "operationId": 440796531, "driverConnectionId": 1, "serverConnectionId": 2364608, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,865 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "durationMS": 25.909000000000002, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1461495731, "operationId": 1461495731, "driverConnectionId": 1, "serverConnectionId": 2364609, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,866 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d008a2d8bb441a2cf5824b"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:50874 - "GET /api/v1/dashboard/accounts HTTP/1.1" 200 OK
2025-09-21 22:16:02,873 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:16:02,873 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:16:02,875 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "durationMS": 27.892, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 440796531, "operationId": 440796531, "driverConnectionId": 1, "serverConnectionId": 2364608, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:02,876 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d008a2d8bb441a2cf5824a"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:50873 - "GET /api/v1/dashboard/summary HTTP/1.1" 200 OK
2025-09-21 22:16:02,882 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:16:02,882 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:16:04,105 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:16:04,105 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:16:04,105 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:16:04,105 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:16:04,105 INFO sqlalchemy.engine.Engine [cached since 673.2s ago] (1, 1, 0)
2025-09-21 22:16:04,105 - sqlalchemy.engine.Engine - INFO - [cached since 673.2s ago] (1, 1, 0)
2025-09-21 22:16:04,106 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:16:04,106 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:16:04,106 INFO sqlalchemy.engine.Engine [cached since 673.2s ago] ()
2025-09-21 22:16:04,106 - sqlalchemy.engine.Engine - INFO - [cached since 673.2s ago] ()
2025-09-21 22:16:04,107 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:16:04,107 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:16:04,107 INFO sqlalchemy.engine.Engine [cached since 252.4s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:16:04,107 - sqlalchemy.engine.Engine - INFO - [cached since 252.4s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:16:04,109 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-21 22:16:04,109 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-21 22:16:04,109 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:16:04,109 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.password_hash AS users_password_hash, users.role AS users_role, users.is_active AS users_is_active, users.note1 AS users_note1, users.note2 AS users_note2, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.settings AS users_settings 
FROM users 
WHERE users.id = ?
 LIMIT ? OFFSET ?
2025-09-21 22:16:04,110 INFO sqlalchemy.engine.Engine [cached since 673.2s ago] (1, 1, 0)
2025-09-21 22:16:04,110 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d008a4d8bb441a2cf5824c"}}
2025-09-21 22:16:04,110 - sqlalchemy.engine.Engine - INFO - [cached since 673.2s ago] (1, 1, 0)
2025-09-21 22:16:04,110 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "previousDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824c, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824c, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:16:04,110 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,111 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,111 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:16:04,111 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id 
FROM account_config
2025-09-21 22:16:04,112 INFO sqlalchemy.engine.Engine [cached since 673.2s ago] ()
2025-09-21 22:16:04,112 - sqlalchemy.engine.Engine - INFO - [cached since 673.2s ago] ()
2025-09-21 22:16:04,113 INFO sqlalchemy.engine.Engine SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:16:04,112 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824c, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}}
2025-09-21 22:16:04,113 - sqlalchemy.engine.Engine - INFO - SELECT account_config.account_id AS account_config_account_id, account_config.account_name AS account_config_account_name, account_config.initial_capital AS account_config_initial_capital, account_config.currency AS account_config_currency, account_config.broker AS account_config_broker, account_config.description AS account_config_description, account_config.tags AS account_config_tags, account_config.config AS account_config_config, account_config.created_at AS account_config_created_at, account_config.updated_at AS account_config_updated_at, account_config.created_by AS account_config_created_by 
FROM account_config 
WHERE account_config.account_id IN (?, ?, ?, ?)
2025-09-21 22:16:04,113 INFO sqlalchemy.engine.Engine [cached since 252.4s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:16:04,113 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824c, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "remainingTimeMS": 4998}
2025-09-21 22:16:04,113 - sqlalchemy.engine.Engine - INFO - [cached since 252.4s ago] ('901203963', '901208017', '901208110', '901210166')
2025-09-21 22:16:04,114 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:16:04,115 - pymongo.topology - DEBUG - {"message": "Starting topology monitoring", "topologyId": {"$oid": "68d008a4d8bb441a2cf5824d"}}
2025-09-21 22:16:04,115 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "previousDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824d, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824d, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>"}
2025-09-21 22:16:04,115 - pymongo.topology - DEBUG - {"message": "Starting server monitoring", "topologyId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,116 - pymongo.connection - DEBUG - {"message": "Connection pool created", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,117 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824d, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}}
2025-09-21 22:16:04,117 - pymongo.serverSelection - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824d, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "remainingTimeMS": 4999}
2025-09-21 22:16:04,118 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "driverConnectionId": 1, "serverHost": "valar.site", "serverPort": 27088, "awaited": false}
2025-09-21 22:16:04,174 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "driverConnectionId": 1, "serverConnectionId": 2364612, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 59.2415826395154, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:16:04.318Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364612, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:16:04,174 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,174 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "previousDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824c, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824c, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.0592415826395154>]>"}
2025-09-21 22:16:04,176 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824c, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.0592415826395154>]>", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,177 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,178 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:04,177 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "driverConnectionId": 1, "serverConnectionId": 2364612, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:16:04,181 - pymongo.topology - DEBUG - {"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "driverConnectionId": 1, "serverConnectionId": 2364613, "serverHost": "valar.site", "serverPort": 27088, "awaited": false, "durationMS": 62.15083319693804, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"66bf36165c6e2adfdc2271c9\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-09-21T14:16:04.326Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 2364613, \"maxWireVersion\": 21, \"ok\": 1.0}"}
2025-09-21 22:16:04,181 - pymongo.connection - DEBUG - {"message": "Connection pool ready", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,181 - pymongo.topology - DEBUG - {"message": "Topology description changed", "topologyId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "previousDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824d, topology_type: Unknown, servers: [<ServerDescription ('valar.site', 27088) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824d, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06215083319693804>]>"}
2025-09-21 22:16:04,181 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824d, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06215083319693804>]>", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,181 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,182 - pymongo.connection - DEBUG - {"message": "Connection created", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:04,182 - pymongo.topology - DEBUG - {"message": "Server heartbeat started", "topologyId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "driverConnectionId": 1, "serverConnectionId": 2364613, "serverHost": "valar.site", "serverPort": 27088, "awaited": true}
2025-09-21 22:16:04,260 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.07451529195532203}
2025-09-21 22:16:04,260 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.07847854169085622}
2025-09-21 22:16:04,260 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "command": "{\"find\": \"account\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"DFEjaPsbQ+yl8l1wC77f7g==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 834991545, "operationId": 834991545, "driverConnectionId": 1, "serverConnectionId": 2364614, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,283 - pymongo.connection - DEBUG - {"message": "Connection ready", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.09966137493029237}
2025-09-21 22:16:04,283 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.10625166585668921}
2025-09-21 22:16:04,284 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "command": "{\"find\": \"account\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wxFBlodCSLOsNaRmV0Ct8g==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 2044747317, "operationId": 2044747317, "driverConnectionId": 1, "serverConnectionId": 2364617, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,284 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "durationMS": 23.685000000000002, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6621347d6cc2a08113724e66\"}, \"accountid\": \"901203963\", \"available\": 3998148.9605662003, \"balance\": 5028412.860566201, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 1030263.9000000004, \"updatetime\": \"2025-09-20 02:43:45\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db92\"}, \"accountid\": \"901208017\", \"available\": 6085039.4047703, \"balance\": 7588920.8547703, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208017\", \"margin\": 1503881.4500000002, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db93\"}, \"accountid\": \"901208110\", \"available\": 4582377.926748, \"balance\": 5727884.176748, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208110\", \"margin\": 1145506.25, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"6621347d6cc2a08113724e67\"}, \"accountid\": \"901210166\", \"available\": 72492.18000000001, \"balance\": 72492.18000000001, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901210166\", \"updatetim...", "commandName": "find", "databaseName": "VALAR", "requestId": 834991545, "operationId": 834991545, "driverConnectionId": 1, "serverConnectionId": 2364614, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,284 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:04,285 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824d, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06215083319693804>]>", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}}
2025-09-21 22:16:04,285 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824d, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06215083319693804>]>", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,285 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,285 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 4.8916786909103394e-05}
2025-09-21 22:16:04,285 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"DFEjaPsbQ+yl8l1wC77f7g==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 2034837525, "operationId": 2034837525, "driverConnectionId": 1, "serverConnectionId": 2364614, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,316 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "durationMS": 32.469, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6621347d6cc2a08113724e66\"}, \"accountid\": \"901203963\", \"available\": 3998148.9605662003, \"balance\": 5028412.860566201, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901203963\", \"margin\": 1030263.9000000004, \"updatetime\": \"2025-09-20 02:43:45\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db92\"}, \"accountid\": \"901208017\", \"available\": 6085039.4047703, \"balance\": 7588920.8547703, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208017\", \"margin\": 1503881.4500000002, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"662134ac6cc2a0811374db93\"}, \"accountid\": \"901208110\", \"available\": 4582377.926748, \"balance\": 5727884.176748, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901208110\", \"margin\": 1145506.25, \"updatetime\": \"2025-09-20 02:43:44\"}, {\"_id\": {\"$oid\": \"6621347d6cc2a08113724e67\"}, \"accountid\": \"901210166\", \"available\": 72492.18000000001, \"balance\": 72492.18000000001, \"gateway_name\": \"ctp\", \"local_account_id\": \"ctp.901210166\", \"updatetim...", "commandName": "find", "databaseName": "VALAR", "requestId": 2044747317, "operationId": 2044747317, "driverConnectionId": 1, "serverConnectionId": 2364617, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,317 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:04,318 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824c, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.0592415826395154>]>", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}}
2025-09-21 22:16:04,319 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824c, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.0592415826395154>]>", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,319 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,319 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 9.516719728708267e-05}
2025-09-21 22:16:04,319 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "command": "{\"find\": \"position\", \"filter\": {\"accountid\": {\"$in\": [\"901203963\", \"901208017\", \"901208110\", \"901210166\"]}}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wxFBlodCSLOsNaRmV0Ct8g==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "find", "databaseName": "VALAR", "requestId": 837204200, "operationId": 837204200, "driverConnectionId": 1, "serverConnectionId": 2364617, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,338 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "durationMS": 52.968, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 2034837525, "operationId": 2034837525, "driverConnectionId": 1, "serverConnectionId": 2364614, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,339 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:04,339 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824d, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06215083319693804>]>", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}}
2025-09-21 22:16:04,339 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824d, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.06215083319693804>]>", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,339 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,340 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 6.087496876716614e-05}
2025-09-21 22:16:04,340 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "command": "{\"getMore\": 4655258240969152144, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"DFEjaPsbQ+yl8l1wC77f7g==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 578134256, "operationId": 578134256, "driverConnectionId": 1, "serverConnectionId": 2364614, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,364 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "durationMS": 24.485, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 578134256, "operationId": 578134256, "driverConnectionId": 1, "serverConnectionId": 2364614, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,365 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d008a4d8bb441a2cf5824d"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:50892 - "GET /api/v1/dashboard/accounts HTTP/1.1" 200 OK
2025-09-21 22:16:04,377 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:16:04,377 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-21 22:16:04,388 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "durationMS": 68.77900000000001, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"68c8b56b5c6e2adfdc39fe1b\"}, \"accountid\": \"901203963\", \"local_position_id\": \"AP601.CZCE.Direction.SHORT\", \"current_price\": 8290.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 460.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"AP601.CZCE\", \"open_price\": 8336.0, \"price\": 8290.0, \"symbol\": \"AP601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 1, \"yd_volume\": 1}, {\"_id\": {\"$oid\": \"687060ea5c6e2adfdc448cd4\"}, \"accountid\": \"901203963\", \"local_position_id\": \"CJ601.CZCE.Direction.SHORT\", \"current_price\": 10680.0, \"direction\": \"\u7a7a\", \"exchange\": \"CZCE\", \"float_pnl\": 2950.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"CJ601.CZCE\", \"open_price\": 10876.666666666666, \"price\": 10680.0, \"symbol\": \"CJ601\", \"updatetime\": \"2025-09-20 02:43:44\", \"volume\": 3, \"yd_volume\": 3}, {\"_id\": {\"$oid\": \"689f2e2a5c6e2adfdc668e87\"}, \"local_position_id\": \"FG601.CZCE.Direction.SHORT\", \"accountid\": \"901203963\", \"current_price\": 1226.0, \"direction\": \"\u7a7a\", \"exchange...", "commandName": "find", "databaseName": "VALAR", "requestId": 837204200, "operationId": 837204200, "driverConnectionId": 1, "serverConnectionId": 2364617, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,389 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
2025-09-21 22:16:04,390 - pymongo.serverSelection - DEBUG - {"message": "Server selection started", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824c, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.0592415826395154>]>", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}}
2025-09-21 22:16:04,390 - pymongo.serverSelection - DEBUG - {"message": "Server selection succeeded", "selector": "<function any_server_selector at 0x130991d00>", "operation": "getMore", "topologyDescription": "<TopologyDescription id: 68d008a4d8bb441a2cf5824c, topology_type: Single, servers: [<ServerDescription ('valar.site', 27088) server_type: Standalone, rtt: 0.0592415826395154>]>", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,391 - pymongo.connection - DEBUG - {"message": "Connection checkout started", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,391 - pymongo.connection - DEBUG - {"message": "Connection checked out", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1, "durationMS": 0.00016079191118478775}
2025-09-21 22:16:04,391 - pymongo.command - DEBUG - {"message": "Command started", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "command": "{\"getMore\": 7400486502484234536, \"collection\": \"position\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wxFBlodCSLOsNaRmV0Ct8g==\", \"subType\": \"04\"}}}, \"$db\": \"VALAR\"}", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1486421564, "operationId": 1486421564, "driverConnectionId": 1, "serverConnectionId": 2364617, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,426 - pymongo.command - DEBUG - {"message": "Command succeeded", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "durationMS": 35.149, "reply": "{\"cursor\": {\"nextBatch\": [{\"_id\": {\"$oid\": \"68c8b56c5c6e2adfdc39fe53\"}, \"local_position_id\": \"c2511.DCE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 2170.0, \"direction\": \"\u591a\", \"exchange\": \"DCE\", \"float_pnl\": 710.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"c2511.DCE\", \"open_price\": 2167.633333333333, \"pnl\": -200.0, \"price\": 2170.6666666666665, \"symbol\": \"c2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 30, \"yd_volume\": 25}, {\"_id\": {\"$oid\": \"68af002a5c6e2adfdcb86f9c\"}, \"local_position_id\": \"cs2511.DCE.Direction.SHORT\", \"accountid\": \"901208110\", \"current_price\": 2465.0, \"direction\": \"\u7a7a\", \"exchange\": \"DCE\", \"float_pnl\": 280.0, \"gateway_name\": \"ctp\", \"local_symbol\": \"cs2511.DCE\", \"open_price\": 2472.0, \"pnl\": 120.0, \"price\": 2468.0, \"symbol\": \"cs2511\", \"updatetime\": \"2025-09-20 02:43:45\", \"volume\": 4, \"yd_volume\": 4}, {\"_id\": {\"$oid\": \"68cd52aa5c6e2adfdcd82500\"}, \"local_position_id\": \"cu2511.SHFE.Direction.LONG\", \"accountid\": \"901208110\", \"current_price\": 80080....", "commandName": "getMore", "databaseName": "VALAR", "requestId": 1486421564, "operationId": 1486421564, "driverConnectionId": 1, "serverConnectionId": 2364617, "serverHost": "valar.site", "serverPort": 27088}
2025-09-21 22:16:04,427 - pymongo.connection - DEBUG - {"message": "Connection checked in", "clientId": {"$oid": "68d008a4d8bb441a2cf5824c"}, "serverHost": "valar.site", "serverPort": 27088, "driverConnectionId": 1}
INFO:     127.0.0.1:50891 - "GET /api/v1/dashboard/summary HTTP/1.1" 200 OK
2025-09-21 22:16:04,437 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-21 22:16:04,437 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-09-21 22:16:12,071 - app.main - INFO - Shutting down application...
INFO:     Application shutdown complete.
INFO:     Finished server process [88999]
INFO:     Stopping reloader process [88991]
